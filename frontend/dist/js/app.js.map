{"version":3,"sources":["../deps/node_modules/browser-pack/_prelude.js","src/client.js","src/components/DevTools.js","src/components/Home.js","src/components/MarkdownEditor.js","src/components/NoteEdit.js","src/components/NoteNew.js","src/components/NotebookEdit.js","src/components/NotebookList.js","src/components/NotebookNew.js","src/components/Root.js","src/helpers/ajax.js","src/helpers/api.js","src/helpers/createActionDispatchers.js","src/helpers/createStore.js","src/reducers/index.js","src/reducers/notebooks.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * This is the entry point for the JavaScript application which runs in the\n * web browser. We call `window.main` when the page loads, and use that\n * opportunity to create the Redux store and mount the root React component.\n */\n\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\nconst createStore = require('./helpers/createStore');\nconst Root = React.createFactory(require('./components/Root'));\n\n// Initialisation function which we will call on page load\nwindow.main = (initialState) => {\n  // Create root React component with Redux store\n  const store = createStore(initialState);\n  const rootComponent = Root({ store });\n\n  // Mount React root component in DOM\n  const mountPoint = document.getElementById('root');\n  ReactDOM.render(rootComponent, mountPoint);\n};\n","const React = require('react');\nconst ReduxDevtools = require('redux-devtools');\nconst DockMonitor = require('redux-devtools-dock-monitor').default;\nconst LogMonitor = require('redux-devtools-log-monitor').default;\n\nconst InternalDevTools = ReduxDevtools.createDevTools(\n  <DockMonitor toggleVisibilityKey=\"h\" changePositionKey=\"q\" defaultIsVisible={false}>\n    <LogMonitor />\n  </DockMonitor>\n);\n\nclass DevTools extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { isMounted: false };\n  }\n\n  static instrument(...args) {\n    return InternalDevTools.instrument(...args);\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.isMounted && <InternalDevTools />}\n      </div>\n    );\n  }\n}\n\n/**\n * Redux development tools (useful for debugging).\n */\nmodule.exports = DevTools;\n","/**\n * This file contains the Home component.\n * Other React components for viewing notes and notebooks should be nested\n * beneath the Home component.\n */\n\nconst React = require('react');\n\nconst NotebookList = require('./NotebookList');\n\n//We start building the frontend from here\n//We call the NotebookList which further calls other requried components\nconst Home = () => (\n  <div className=\"container\">\n    <h1>Neverwrote</h1>\n    <blockquote>\n      Never say \"I never wrote that down\" ever again!\n    </blockquote>\n    <NotebookList />\n  </div>\n);\n\n//We export our Home Component\nmodule.exports = Home;\n","const React = require('react');\n\n//This is the MarkDownEditor\nclass MarkdownEditor extends React.Component {\n  componentDidMount() {\n    // SimpleMDE must be required here since it's browser-only.\n    const SimpleMDE = require('simplemde');\n\n    // Turn our plain old text area into a beautiful markdown editor\n    this.simpleMDE = new SimpleMDE({\n      indentWithTabs: false,\n      status: false,\n      autoDownloadFontAwesome: false,\n      element: this.textarea\n    });\n\n    // Put initial text in the editor\n    this.simpleMDE.value(this.props.value);\n\n    // Listen for changes and fire a callback\n    this.simpleMDE.codemirror.on('change', () => {\n      const newText = this.simpleMDE.value();\n      if(newText !== this.props.value) {\n        this.props.onChange({ target: { value: newText } });\n      }\n    });\n  }\n\n  componentDidUpdate() {\n    // Replace the text in the editor, preserving the cursor position and\n    // selection info\n    const selections = this.simpleMDE.codemirror.listSelections();\n    this.simpleMDE.value(this.props.value);\n    this.simpleMDE.codemirror.setSelections(selections);\n  }\n\n  // Describe how to render the component\n  render() {\n    const ref = (element) => { this.textarea = element; };\n    return (\n      <textarea ref={ref} />\n    );\n  }\n}\n\n// Export the component so that it can be required\nmodule.exports = MarkdownEditor;\n","const React = require('react');\nconst _ = require('lodash');\nconst MarkdownEditor = require('./MarkdownEditor');\n\nclass NoteEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    const note = props.note || {};\n\n    this.state = {\n      title: note.title || '',\n      content: note.content || '',\n      notebookId: props.notebookId || ''\n    };\n  }\n\n  render() {\n    const revertAndStopEditing = (event) => {\n      event.preventDefault();\n      this.props.onCancel();\n    };\n\n    const submitAndStopEditing = (event) => {\n      event.preventDefault();\n      const editedPost = _.assign({}, this.props.note, {\n        title: this.state.title,\n        content: this.state.content,\n        notebookId: this.props.notebookId\n      });\n\n      console.log('edited post');\n      console.table(editedPost);\n      this.props.onSave(editedPost);\n      this.props.onCancel();\n    };\n\n    const onTitleChange = (event) => {\n      this.setState({title: event.target.value});\n\n    };\n\n    const onContentChange = (event) => {\n      this.setState({content: event.target.value});\n    };\n\n    return(\n      <form className=\"blog-post\">\n\n        <div className=\"form-group\">\n          <input className=\"form-control input-lg\" value={this.state.title}\n            placeholder=\"Note title\" onChange={onTitleChange}\n            />\n          <MarkdownEditor value={this.state.content} onChange={onContentChange} />\n        </div>\n\n        <button className=\"ButnN btn btn-danger pull-right btn-lg\"\n          style={{marginRight: '12px'}}\n          onClick={revertAndStopEditing}\n        >\n          <i className=\"fa fa-remove\"></i>\n        </button>\n\n        <button className=\"ButnN btn btn-success pull-right btn-lg\"\n        onClick={submitAndStopEditing}\n        >\n          <i className=\"fa fa-check\"></i>\n        </button>\n\n    </form>\n    );\n  }\n}\n\nmodule.exports = NoteEdit;","const React = require('react');\nconst MarkdownEditor = require('./MarkdownEditor');\nconst NoteEdit = require('./NoteEdit');\n\nclass NoteNew extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editing:false,\n\n    };\n  }\n\n  render() {\n    const openEdit = () => {\n      this.setState({editing:true});\n    };\n\n    const closeEdit = () => {\n      this.setState({editing:false});\n      console.log('Calling...');\n      this.props.clearInput();\n\n    }\n\n    const createNote = (newNote) => {\n      this.props.createNote(newNote, (err) => {\n        if(!err) closeEdit();\n      })\n      console.log('this is supposed to show up after the first table');\n    };\n\n    if(this.state.editing) {\n\n      return (\n        <NoteEdit\n          note={this.props.note}\n          onSave={createNote}\n          onCancel={closeEdit}\n          notebookId={this.props.notebookId}\n        />\n      );\n    }\n\n    return (\n      <button className=\"new-note btn btn-primary\"\n        onClick={openEdit}\n      >\n      <i className=\"new-notebook-button-plus fa fa-plus\"></i>\n      Note\n      </button>\n    );\n  }\n}\n\nmodule.exports = NoteNew;","const React = require('react');\nconst _ = require('lodash');\n\nclass NotebookEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    const notebook = props.notebook || {};\n    this.state = {\n      title: notebook.title || '',\n    };\n  }\n\n  render() {\n    const revertAndStopEditing = (event) => {\n      event.preventDefault();\n      this.props.onCancel();\n    };\n\n    const submitAndStopEditing = (event) => {\n\n      event.preventDefault();\n      //Creates a new Notebook object and saves it.\n      const editedNotebook = _.assign({},this.props.notebook, {\n        title: this.state.title\n      });\n      this.props.onSave(editedNotebook);\n      this.props.onCancel();\n    };\n\n    const onTitleChange = (event) => {\n      this.setState({title:event.target.value});\n    };\n\n    return (\n        <div className=\"NotebookInput\">\n          <div className=\"input-group\">\n\n            <input className=\"form-control input-lg\" value={this.state.title}\n            placeholder=\"Notebook title\" onChange={onTitleChange}\n            />\n\n            <div className=\"input-group-btn\">\n\n              <button className=\"btn btn-success btn-lg\"\n                onClick={submitAndStopEditing}\n              >\n              <i className=\"fa fa-check\"></i>\n              </button>\n\n              <button className=\"btn btn-danger btn-lg\"\n                style={{marginRight: '12px'}}\n                onClick={revertAndStopEditing}\n              >\n              <i className=\"fa fa-remove\"></i>\n              </button>\n            </div>\n\n          </div>\n        </div>\n    );\n  }\n}\n\nmodule.exports = NotebookEdit;","const React = require('react');\nconst ReactRedux = require('react-redux');\nconst _ = require('lodash');\nconst createActionDispatchers = require('../helpers/createActionDispatchers');\nconst notebooksActionCreators = require('../reducers/notebooks');\nconst NotebookNew = require('./NotebookNew');\nconst NoteNew = require('./NoteNew');\n\n\n/*This is the Active Notebook class that represents a note which is clicked\n * and is supposed to show it's contents (notes) . If clicked again it will reset\n * the state and make active Notebook Id to -1 through calling the reducer resetNotebook()\n * passed to this component through its parent class, NotebookList.\n * Thus, Turning this Active note into a normal note.\n */\nclass ActiveNotebook extends React.Component {\n\n  //The constructor for using state.\n  constructor(props) {\n\n      super(props);\n\n      //Here we provide the state.\n      this.state={\n\n        //phrase is the search phrase. This is the phrase that is being typed in the search bar.\n        phrase: '',\n        //This stores notes that are not matching the search phrase.\n        tempNotes:'',\n\n      };\n\n  }\n\n  //This is what ActiveNotebook needs to render and what it is supposed to render.\n  render() {\n\n    /* This is the createNote function which takes a note object as a parameter and returns either\n     * an ActiveNote or a simple Note. Active note, similarly like an Active Notebook is supposed\n     * to show its content, it is the resultant of a normal note being clicked, thus, on re-clicking\n     * or actually clicking it will amke the content disappear and turn it into a normal note.\n     * we will explain how below.\n     */\n    const createNote = (note) => {\n\n        /* The decision wether to return an ActiveNote or a normal note happens here.\n         * We store an activeNoteId in the NotebookList state, so it compares a particular note's Id\n         * with the active note Id , and if it turns out to be the active note, we return active note\n         */\n        if(note.id === this.props.activeNoteId) {\n          //We pass key as the note's Id and the note itself along with it's title and content, we also pass in methods to delete and reset a note\n          //resetting a note mean making it into a normal note.\n          return <ActiveNote key={note.id} title={note.title} note={note} resetNote={this.props.resetNote} deleteNote={this.props.deleteNote} content={note.content}/>;\n        }\n        //We pass key as the note's Id and methods to load the note's ocntent and to delete a note\n        //To load a note is basically making the note active and load it's contents.\n        return <Note key={note.id} note={note} loadNoteContent={this.props.loadNoteContent} deleteNote={this.props.deleteNote}/>;\n\n    }\n\n    /*  The function that is called when we click an Active notebook\n     *  The normal notebook have one of it's own.\n     */\n    const onClickNotebook = (event) => {\n\n      event.preventDefault();\n      //This will call the reducer to reset the active notebook back to a normal notebook.\n      this.props.resetNotebook();\n\n    };\n\n    // The fuction which is called when you press the delete button\n    const onDeleteNotebookButtonClick = (event) => {\n\n      //This will pass the notebookId to the action creator in the reducer.\n      this.props.deleteNotebook(this.props.notebook.id);\n\n    };\n\n\n    //This is the function used moostly by the eraser button in the search bar.\n    //other fucntions use it if we want everything back to intital state.\n    const clearInput = () => {\n\n      //It sets the current state to how it looked like initially.\n      this.setState({\n        phrase:'',\n        tempNotes: '',\n      });\n      //It searches an empty string. Thus no results pop up. Just like the initial state.\n      onSearch('');\n\n    };\n\n\n    //This is called when we change the input in the search bar.\n    const onSearching = (event) => {\n\n          //We record the typed text in our constant, phrase\n          const phrase = event.target.value;\n          //We set the state's phrase to out phrase\n          this.setState({phrase});\n          //This further calls out another helper method which does the further procedure.\n          onSearch(phrase);\n\n    };\n\n    //This is the function that is called by the onSearching function.\n    const onSearch = (phrase) => {\n\n        //It creates a temporary array which stores all the notes that are not supposed to be shown in the search results\n        const tempNotes=[];\n\n        //We set the tempNotes in our state to this empty tempNotes.To not to keep on adding stuffs in it.\n        //If we dont do this, on one stage, we wont see anything in the search results.\n        this.setState({tempNotes});\n\n        //For each notes we check if it has what it takes to be in the search results\n        this.props.notes.map(note => {\n\n          //If the tile or the contents of a note have that phrase in it somewehere, we do not push the note\n          //The Empty phrase means initial state or no searching state, where all notes are supposed to be there\n          //Thus, if the phrase id empty string we do not push the note.\n          if(!(note.title.contains(phrase)|| note.content.contains(phrase) || phrase ===''))\n          {\n            tempNotes.push(note);\n          }\n\n        })\n\n        //we finally set the tempNotes in state to be the one we just prepared.\n        this.setState({tempNotes});\n\n   }\n\n\n\n    //The return statement shows what we are supposed to provide\n    //A notebook title, click it and it becomes normal\n    //A delete button\n    //A search bar with an eraser\n    //Add new note button\n    //Search results\n    //We use _.difference to display only the notes which are not in tempNotes, basically we are displayin search results.\n\n    return (\n\n\n      <li className=\"UnorderedListChildNB\">\n\n          <a className=\"activeTextNotebook\" href=\"#\" onClick={onClickNotebook}>\n          {this.props.notebook.title}\n          </a>\n\n          <button className=\"Red-Cross btn btn-danger btn-sm\" onClick={onDeleteNotebookButtonClick}>\n            <i className=\"fa fa-remove\"></i>\n          </button>\n\n          <div>\n\n            <div className=\"input-group\">\n\n                <input\n                  className=\"form-control input-lg\"\n                  value={this.state.phrase}\n                  placeholder=\"Search....\"\n                  onChange={onSearching}\n\n                />\n\n                <div className=\"input-group-btn\">\n\n                    <button\n                      className=\"btn btn-warning btn-lg\"\n                      style={{marginRight: '12px'}}\n                      onClick={clearInput}\n                    >\n                    <i className=\"fa fa-eraser\"></i>\n                    </button>\n\n                </div>\n\n            </div>\n\n            <div className=\"Notes\">\n\n                      <h3>Notes\n                      <NoteNew clearInput={clearInput} createNote ={this.props.createNote} notebookId={this.props.activeNotebookId}/>\n                      </h3>\n\n                      <ol>\n                        { _.difference(this.props.notes,this.state.tempNotes).map(note => createNote(note))}\n                      </ol>\n\n            </div>\n\n          </div>\n\n      </li>\n    );\n  }\n}\n\n//---------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n//ActiveNote, which is the note that is highlighted and displays some content\nclass ActiveNote extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  //The following is what that is going to be rendered and what assisting render\n  render(){\n\n    //This is the function which is executed when a Note is clicked.\n    const onClickNote = (event) => {\n      event.preventDefault();\n      //This is the function that was passed to the Active note, which goes to the reducer and invokes action of reseting a note to it's normal state\n      this.props.resetNote();\n    };\n\n    //This is the function that is going to be invoked when we click the delete button.\n    const onDeleteNoteButtonClick = (event) => {\n      event.preventDefault();\n      //This is the function that was passed to the Active note, which goes to the reducer and invokes action of deleting a note.\n      this.props.deleteNote(this.props.note.id);\n    };\n\n\n    //We return a list element with a clickable title, which on clicking reverts back to normal,\n    //A delete button which deletes the note\n    //And the content of the note.\n    return (\n      <li className=\"UnorderedListChildN\">\n\n        <button className=\"Red-Cross btn btn-danger btn-xs\" onClick={onDeleteNoteButtonClick}>\n          <i className=\"fa fa-remove\"></i>\n        </button>\n\n        <a className=\"activeTextNote\" href=\"#\" onClick={onClickNote}>\n          {this.props.title}    &rArr;\n        </a>\n\n        {this.props.content}\n      </li>\n    );\n  }\n}\n\n//---------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n//The class Note that renders a normal note with ability to being delted and show content\nclass Note extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render(){\n\n    //Fucntion called when note is clicked\n    const onClickNote = (event) => {\n      event.preventDefault();\n      //contents loaded when note clicked, call creating an action.\n      this.props.loadNoteContent(this.props.note.id);\n    };\n\n    //Function called when delete button is clicked\n    const onDeleteNoteButtonClick = (event) => {\n      event.preventDefault();\n      //Note delted, call creating action to delete the note.\n      this.props.deleteNote(this.props.note.id);\n    };\n\n\n    //We return a list element with a delete button and the note title\n    return(\n      <li className=\"UnorderedListChildN\">\n\n        <button className=\"Red-Cross btn btn-danger btn-xs\" onClick={onDeleteNoteButtonClick}>\n          <i className=\"fa fa-remove\"></i>\n        </button>\n\n        <a href=\"#\" onClick={onClickNote}>\n          {this.props.note.title}\n        </a>\n\n      </li>\n\n    );\n  }\n}\n\n//---------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n//The class Notebook, responsible for redering a normal notebook\nclass Notebook extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  //The following is what which will render or assist to render.\n  render() {\n\n    //This is the function which is called when a Notebook title is clicked\n    const onClickNotebook = (event) => {\n      event.preventDefault();\n      //The below function was passed to the notes by NotebookList, it invokes action to load all the notes under this notebook.\n      this.props.loadNotes(this.props.notebook.id);\n    };\n\n    //This is the function which is called when we press the delete button next to notebook.\n    const onDeleteNotebookButtonClick = (event) => {\n      //This will further dispatch an action and delete the notebook hose ID is passed in.\n      this.props.deleteNotebook(this.props.notebook.id);\n    };\n\n    //We return a list element with a title and the delete button\n    return (\n      <li className=\"UnorderedListChildNB\">\n\n          <a href=\"#\" onClick={onClickNotebook}>\n            {this.props.notebook.title}\n          </a>\n\n          <button className=\"Red-Cross btn btn-danger btn-xs\" onClick={onDeleteNotebookButtonClick}>\n            <i className=\"fa fa-remove\"></i>\n          </button>\n\n\n      </li>\n\n    );\n  }\n}\n\n//---------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n//This class is responsible for the search results we get from the search which uses API.\nclass SearchedNote extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render(){\n\n    return (\n      <li className=\"UnorderedListChildN\">\n          {this.props.note.title}   :   {this.props.note.content}\n      </li>\n    );\n  }\n}\n\n//-----------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n//This is the NotebookList class which represents the Notebook List and everything included in it.\nclass NotebookList extends React.Component {\n\n  constructor(props) {\n\n    super(props);\n    //This state has the phrase entered in the main API search bar(lets call it that for short)\n    this.state = {\n      phrase:'',\n    };\n\n  }\n\n  //Following is what that is rendered and assisting in rendering by the notebookList/\n  render() {\n\n    //This is the function which is called the very first by the NotebookList, it fills up our Notebooks\n    const createNotebookListItem = (notebook) => {\n\n      //We have activeNotebookId in the notebook state which represents the clicked notebook\n      //Initially, the value of the activeNotebookId will be -1, so all normal notes will be returned and rendered.\n      if(notebook.id === this.props.notebooks.activeNotebookId) {\n\n        //We have discussed all the parameters the ActiveNotebook requies above.\n        return (\n          <ActiveNotebook\n            key={notebook.id}\n            notebook={notebook}\n            deleteNotebook={this.props.deleteNotebook}\n            notes={this.props.notebooks.notes}\n            loadNotes={this.props.loadNotes}\n            loadNoteContent={this.props.loadNoteContent}\n            activeNoteId={this.props.notebooks.activeNoteId}\n            deleteNote = {this.props.deleteNote}\n            createNote = {this.props.createNote}\n            activeNotebookId ={this.props.notebooks.activeNotebookId}\n            resetNote = {this.props.resetNote}\n            resetNotebook = {this.props.resetNotebook}\n          />\n        );\n      }\n\n      //If not active, its a normal notebook, which just needs fuctions to delete and\n      //fucntion to become active.\n      return (\n          <Notebook\n              key={notebook.id}\n              notebook={notebook}\n              loadNotes={this.props.loadNotes}\n              deleteNotebook={this.props.deleteNotebook}\n          />\n      );\n    };\n\n\n    //This is function which is called when we change/ type something in the input of the search bar\n    const onSearching = (event) => {\n\n        //The constant phrase takes in the text\n        const phrase = event.target.value;\n        //We then set the state to this phrase\n        this.setState({phrase});\n        //We then search for the phrase\n        onSearch(phrase);\n\n    };\n\n    //This is the function that carry out searching\n    const onSearch = (phrase) => {\n\n      //if the phrase is in default state or nothing is typed or everything is erased, then nothing is searched.\n      if(!(phrase===''))\n      {\n        //if there is actually something to search, we search\n        //This will lead to dispatching an action that takes responsibility for searching using an api call.\n        this.props.onSearchNotes(phrase);\n      }\n    };\n\n\n    //This is the function invoked when we press the eraser button\n    const clearInput = () => {\n\n      //This brings back the initial state.\n      this.setState({\n        phrase:'',\n      });\n\n      //We search nothing, like the intial state\n      onSearch('')\n    };\n\n\n    //This is the fuction which will create a notes based on the searchedNotes passed in as props, which came from the api\n    //it calls the SearchedNote component for each note.\n    const createNote = () => {\n      return this.props.notebooks.searchedNotes.map((note) => {\n\n                return <SearchedNote key={note.id} note={note}/>\n\n                })\n    }\n\n    //this is the function which loads notes that were searched\n    const loadSearchedNotes = () => {\n\n      //If the phrase is in initial state or if the eraser button has been presssed then dont search.\n      if(this.state.phrase===\"\" )\n      {\n\n      }\n      //Else search\n      else{\n          //We return A heading for search results and an ordered list of hte searched notes.\n          return(\n                  <div className=\"search\">\n\n                    <p className=\"searchHead\">Search Results</p>\n\n                    <ol>\n                    {\n                      createNote()\n                    }\n                    </ol>\n\n                  </div>\n          )\n        }\n\n    }\n\n\n    //This is the search bar and the results of the search being displayed\n    //we return an input box which takes text and calls the functions we discussed already\n    //we load the search results\n    //We give the option to add new notebooks\n    //We retrun the list of notebooks too\n    return (\n      <div>\n\n        <div className=\"input-group\">\n\n              <input\n                className=\"form-control input-lg\"\n                value={this.state.phrase}\n                placeholder=\"Search....\"\n                onChange={onSearching}\n\n              />\n\n              <div className=\"input-group-btn\">\n\n                  <button\n                    className=\"btn btn-warning btn-lg\"\n                    style={{marginRight: '12px'}}\n                    onClick={clearInput}\n                  >\n                  <i className=\"fa fa-eraser\"></i>\n                  </button>\n\n              </div>\n        </div>\n\n        <div>\n\n          {loadSearchedNotes()}\n\n        </div>\n\n        <h2>Notebooks\n        <NotebookNew\n            createNotebook={this.props.createNotebook}\n          />\n          </h2>\n        <ul className=\"listOfNotebooks\">\n          {this.props.notebooks.notebooks.map(createNotebookListItem)}\n        </ul>\n      </div>\n    );\n  }\n}\n\n//the below function passes the reducer notebook's state to the NotebookList as props\nconst NotebookListContainer = ReactRedux.connect(\n\n  (state) => {\n    return {\n    notebooks: state.notebooks,\n    notes: state.notes,\n    activeNoteId: state.activeNoteId,\n    searchedNotes: state.searchedNotes,\n    };\n  },\n  createActionDispatchers(notebooksActionCreators)\n)(NotebookList);\n\n\n//We export the NotebookListContainer\nmodule.exports = NotebookListContainer;\n","const React = require('react');\nconst NotebookEdit = require('./NotebookEdit');\n\n/**\n * A button that expands  into a form when it is clicked\n */\n\nclass NotebookNew extends React.Component{\n  constructor(props) {\n    super(props);\n    //set the intital interanl state for this ocmpoentne\n    this.state = {editing:false};\n  }\n\n  render() {\n    const openEdit = () => {\n      this.setState({editing: true});\n    };\n\n    const closeEdit = () => {\n      this.setState({editing: false});\n    };\n\n    const createNotebook = (newNotebook) => {\n      this.props.createNotebook(newNotebook, (err) => {\n        if(!err) closeEdit();\n      });\n    };\n\n\n    if(this.state.editing) {\n\n      return (\n        <NotebookEdit\n          notebook = {this.props.notebook}\n          onSave={createNotebook}\n          onCancel={closeEdit}\n        />\n      );\n    }\n\n    return(\n      <button className=\"new-notebook-button btn btn-primary\" onClick={openEdit}>\n        <i className=\"new-notebook-button-plus fa fa-plus\"></i>\n         Notebook\n      </button>\n    );\n  }\n}\n\nmodule.exports = NotebookNew;","/**\n * The root React component from which all other components on the page are\n * descended. It is this component which is directly mounted on the DOM.\n */\n\nconst React = require('react');\nconst ReactRedux = require('react-redux');\n\nconst Provider = ReactRedux.Provider;\nconst Home = require('./Home');\n\n// Enable development tools when in development mode\nlet DevTools = 'span';\nif(process.env.NODE_ENV === 'development') {\n  DevTools = require('./DevTools');\n}\n\n// Define the Root component\nconst Root = props => (\n  /* The Provider gives descendants the ability to connect to the Redux store */\n  <Provider store={props.store}>\n    <div>\n      {/* The Home component contains the guts of the page */}\n      <Home />\n      {/* DevTools is just an empty element when not in development mode */}\n      <DevTools />\n    </div>\n  </Provider>\n);\n\nmodule.exports = Root;\n","/**\n * This helper file provides a set of functions for performing HTTP requests.\n * It will work on both the backend and the frontend.\n */\n\nconst ajax = {};\n\nif(process.env.IN_BROWSER) {\n  ajax.request = opts => new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.addEventListener('error', () => {\n      reject(new Error('Request failed'));\n    });\n    xhr.addEventListener('load', () => {\n      if(xhr.status !== 200) {\n        reject(new Error(`Received status ${xhr.status}`));\n      } else {\n        resolve(opts.json ? JSON.parse(xhr.responseText) : xhr.responseText);\n      }\n    });\n    xhr.open(opts.method, opts.url);\n    if(opts.json) {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      xhr.send(opts.data !== undefined ? JSON.stringify(opts.data) : opts.data);\n    } else {\n      xhr.send(opts.data);\n    }\n  });\n} else {\n  const request = require('request');\n\n  ajax.request = opts => new Promise((resolve, reject) => {\n    request({\n      url: opts.url,\n      method: opts.method,\n      body: opts.data,\n      json: opts.json\n    }, (error, response, body) => {\n      if(error) {\n        reject(error);\n      } else if(response.statusCode !== 200) {\n        reject(new Error(`Received status ${response.statusCode}`));\n      } else {\n        resolve(body);\n      }\n    });\n  });\n}\n\nmodule.exports = ajax;\n","/**\n * This helper file provides a set of functions for communicating with the\n * backend API. It will work on both the backend and the frontend.\n */\n\nconst ajax = require('./ajax');\n\nconst api = {};\n\nif(process.env.IN_BROWSER) {\n  api.baseUrl = '/api';\n} else {\n  api.baseUrl = 'http://api:3000';\n}\n\napi.get = function(path) {\n  return ajax.request({\n    method: 'GET',\n    url: this.baseUrl + path,\n    json: true\n  });\n};\n\napi.post = function(path, data) {\n  return ajax.request({\n    method: 'POST',\n    url: this.baseUrl + path,\n    json: true,\n    data\n  });\n};\n\napi.put = function(path, data) {\n  return ajax.request({\n    method: 'PUT',\n    url: this.baseUrl + path,\n    json: true,\n    data\n  });\n};\n\napi.delete = function(path) {\n  return ajax.request({\n    method: 'DELETE',\n    url: this.baseUrl + path,\n    json: true\n  });\n};\n\nmodule.exports = api;\n","/**\n * Returns a function that, when given a dispatch function, returns an\n * object containing a bunch of action dispatchers.\n */\nconst createActionDispatchers = (...actionCreatorGroups) => dispatch =>\n  // Iterate over actionCreatorsArray, which is an array of arrays of action\n  // creators\n  actionCreatorGroups.reduce((actionDispatchers, actionCreators) => {\n    // Add an action dispatcher for each action creator in actionCreators\n    Object.keys(actionCreators)\n      .filter((name) => (typeof actionCreators[name] === 'function'))\n      .forEach((name) => {\n        actionDispatchers[name] = function(...actionCreatorArgs) {\n          return dispatch(actionCreators[name].apply(this, actionCreatorArgs));\n        };\n      });\n    return actionDispatchers;\n  }, {});\n\nmodule.exports = createActionDispatchers;\n","/**\n * This helper file provides a function for creating the Redux store. In\n * development mode it will also connect up the Redux development tools for\n * debugging purposes.\n */\n\nconst Redux = require('redux');\nconst reduxThunk = require('redux-thunk').default;\nconst combinedReducers = require('../reducers');\n\nlet finalCreateStore;\n\nif(process.env.NODE_ENV === 'production') {\n  finalCreateStore = Redux.compose(\n    // Enables middleware\n    Redux.applyMiddleware(reduxThunk)\n  )(Redux.createStore);\n} else {\n  const DevTools = require('../components/DevTools');\n\n  finalCreateStore = Redux.compose(\n    // Enables middleware\n    Redux.applyMiddleware(reduxThunk),\n    // Enables DevTools\n    DevTools.instrument()\n  )(Redux.createStore);\n}\n\nmodule.exports = initialState => finalCreateStore(combinedReducers, initialState);\n","/**\n * Specify all of your reducers in this file, so they can be combined into\n * one big reducer.\n */\n\nconst Redux = require('redux');\n\nmodule.exports = Redux.combineReducers({\n  notebooks: require('./notebooks'),\n  /* *** TODO: Put any other reducers in here *** */\n  // eg. `notes: require('./notes')` if you have a reducer in reducers/notes.js\n});\n","const _ = require('lodash');\nconst api = require('../helpers/api');\n\n// Action type constants\n/* *** TODO: Put action constants here *** */\nconst UPDATE = 'myapp/UPDATE';\nconst CREATE = 'myapp/CREATE';\nconst DELETE = 'myapp/DELETE';\nconst SHOW = 'myapp/SHOW';\nconst DELETEN = 'myapp/DELETEN';\nconst CREATEN = 'myapp/CREATEn';\nconst SEARCHED = 'myapp/SEARCHED';\nconst RESETNOTE = 'myapp/RESETNOTE';\nconst RESETNOTEBOOK ='myapp/RESETNOTEBOOK';\n\nconst initialState = {\n  notebooks: [\n    { id: 100, title: 'From Redux Store: A hard-coded notebook' },\n    { id: 101, title: 'From Redux Store: Another hard-coded notebook' },\n  ],\n  activeNotebookId: -1,\n  notes:[],\n  activeNoteId: -1, //Added new Line for note\n  searchedNotes:[],\n};\n\n// Function which takes the current data state and an action,\n// and returns a new state\nfunction reducer(state, action) {\n  state = state || initialState;\n  action = action || {};\n\n  switch(action.type) {\n    /* *** TODO: Put per-action code here *** */\n    case UPDATE: {\n      return Object.assign({}, state, { activeNotebookId:action.notebookId,\n      notes: action.notes, activeNoteId: -1});\n    }\n\n    case RESETNOTE: {\n      return Object.assign({}, state, { activeNoteId: -1});\n    }\n\n    case RESETNOTEBOOK:{\n       return Object.assign({}, state, { activeNotebookId:-1});\n    }\n\n    case CREATE: {\n      const unsortedNotebooks = _.concat(state.notebooks,action.notebook);\n\n      const notebooks = _.orderBy(unsortedNotebooks, 'createdAt', 'desc');\n\n      return _.assign({}, state, {notebooks});\n    }\n    case DELETE: {\n      const newState = _.clone(state);\n      newState.notebooks = _.reject(state.notebooks, {id:action.notebookId});\n      return newState;\n    }\n    case SHOW:{\n      return Object.assign({}, state, {activeNoteId:action.noteId});\n    }\n    case DELETEN:{\n        const newState = _.clone(state)\n        newState.notes = _.reject(state.notes,{id:action.noteId});\n        return newState;\n    }\n    case CREATEN: {\n      const unsortedNotes = _.concat(state.notes, action.note);\n      const notes = _.orderBy(unsortedNotes,'createdAt','desc');\n      return _.assign({},state,{notes});\n    }\n    case SEARCHED: {\n      const searchedNotes = action.notes;\n      const notebooks = action.tempNotebooks;\n      return _.assign({},state,{searchedNotes});\n    }\n    default: return state;\n  }\n}\n\n// Action creators\n/* *** TODO: Put action creators here *** */\nreducer.loadNotes = (notebookId) => {\n  return (dispatch) => {\n    api.get('/notebooks/'+notebookId+'/notes').then((notes) => {\n      dispatch({type: UPDATE, notebookId, notes})\n    })\n  }\n}\n\nreducer.loadNoteContent = (noteId) => {\n  return(dispatch) => {\n    api.get('/notes/'+noteId).then((note) => {\n      dispatch({type:SHOW, noteId})\n    })\n  }\n}\n\nreducer.resetNote = () => {\n  return(dispatch) => {\n    dispatch({type:RESETNOTE})\n  }\n}\n\nreducer.resetNotebook = () => {\n  return(dispatch) => {\n    console.log('calling reset');\n    dispatch({type:RESETNOTEBOOK})\n  }\n}\n\nreducer.deleteNotebook = (notebookId) => {\n  return(dispatch) => {\n    api.delete('/notebooks/'+notebookId).then((notebook)=> {\n      dispatch({type: DELETE, notebookId})\n    })\n  }\n}\n\nreducer.createNotebook = (newNotebook, callback) => {\n  return(dispatch) => {\n    api.post('/notebooks', newNotebook).then((notebook) => {\n      dispatch({type: CREATE, notebook});\n    });\n  }\n}\n\nreducer.createNote = (newNote, callback) => {\n  return(dispatch) => {\n    api.post('/notes',newNote).then((note) => {\n      dispatch({type:CREATEN, note});\n    });\n  }\n}\n\nreducer.deleteNote  =(noteId) => {\n  return(dispatch) => {\n    api.delete('/notes/'+noteId).then((note) => {\n      dispatch({type:DELETEN, noteId})\n    })\n  }\n}\n\n\nreducer.onSearchNotes = (phrase) => {\n  return(dispatch) => {\n    api.get('/search/notes/'+phrase).then((notes) =>{\n\n        const tempNotebooks = []\n\n             notes.map((note) => {\n                api.get('/notebooks/'+note.notebookId).then((notebook) => {\n                  tempNotebooks.push(notebook);\n                })\n                console.log(tempNotebooks)\n            })\n            dispatch({type:SEARCHED, tempNotebooks, notes })\n\n        })\n      }\n    }\n\n\n\n// Export the action creators and reducer\nmodule.exports = reducer;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2RlcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9jbGllbnQuanMiLCJzcmMvY29tcG9uZW50cy9EZXZUb29scy5qcyIsInNyYy9jb21wb25lbnRzL0hvbWUuanMiLCJzcmMvY29tcG9uZW50cy9NYXJrZG93bkVkaXRvci5qcyIsInNyYy9jb21wb25lbnRzL05vdGVFZGl0LmpzIiwic3JjL2NvbXBvbmVudHMvTm90ZU5ldy5qcyIsInNyYy9jb21wb25lbnRzL05vdGVib29rRWRpdC5qcyIsInNyYy9jb21wb25lbnRzL05vdGVib29rTGlzdC5qcyIsInNyYy9jb21wb25lbnRzL05vdGVib29rTmV3LmpzIiwic3JjL2NvbXBvbmVudHMvUm9vdC5qcyIsInNyYy9oZWxwZXJzL2FqYXguanMiLCJzcmMvaGVscGVycy9hcGkuanMiLCJzcmMvaGVscGVycy9jcmVhdGVBY3Rpb25EaXNwYXRjaGVycy5qcyIsInNyYy9oZWxwZXJzL2NyZWF0ZVN0b3JlLmpzIiwic3JjL3JlZHVjZXJzL2luZGV4LmpzIiwic3JjL3JlZHVjZXJzL25vdGVib29rcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7OztBQU1BLElBQU0sUUFBUSxRQUFRLE9BQVIsQ0FBZDtBQUNBLElBQU0sV0FBVyxRQUFRLFdBQVIsQ0FBakI7O0FBRUEsSUFBTSxjQUFjLFFBQVEsdUJBQVIsQ0FBcEI7QUFDQSxJQUFNLE9BQU8sTUFBTSxhQUFOLENBQW9CLFFBQVEsbUJBQVIsQ0FBcEIsQ0FBYjs7QUFFQTtBQUNBLE9BQU8sSUFBUCxHQUFjLFVBQUMsWUFBRCxFQUFrQjtBQUM5QjtBQUNBLE1BQU0sUUFBUSxZQUFZLFlBQVosQ0FBZDtBQUNBLE1BQU0sZ0JBQWdCLEtBQUssRUFBRSxZQUFGLEVBQUwsQ0FBdEI7O0FBRUE7QUFDQSxNQUFNLGFBQWEsU0FBUyxjQUFULENBQXdCLE1BQXhCLENBQW5CO0FBQ0EsV0FBUyxNQUFULENBQWdC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O0FBQy9CLFNBQU0sVUFBQyxRQUFELEVBQWM7QUFDbEIsUUFBSSxNQUFKLENBQVcsWUFBVSxNQUFyQixFQUE2QixJQUE3QixDQUFrQyxVQUFDLElBQUQsRUFBVTtBQUMxQyxlQUFTLEVBQUMsTUFBSyxPQUFOLEVBQWUsY0FBZixFQUFUO0FBQ0QsS0FGRDtBQUdELEdBSkQ7QUFLRCxDQU5EOztBQVNBLFFBQVEsYUFBUixHQUF3QixVQUFDLE1BQUQsRUFBWTtBQUNsQyxTQUFNLFVBQUMsUUFBRCxFQUFjO0FBQ2xCLFFBQUksR0FBSixDQUFRLG1CQUFpQixNQUF6QixFQUFpQyxJQUFqQyxDQUFzQyxVQUFDLEtBQUQsRUFBVTs7QUFFNUMsVUFBTSxnQkFBZ0IsRUFBdEI7O0FBRUssWUFBTSxHQUFOLENBQVUsVUFBQyxJQUFELEVBQVU7QUFDakIsWUFBSSxHQUFKLENBQVEsZ0JBQWMsS0FBSyxVQUEzQixFQUF1QyxJQUF2QyxDQUE0QyxVQUFDLFFBQUQsRUFBYztBQUN4RCx3QkFBYyxJQUFkLENBQW1CLFFBQW5CO0FBQ0QsU0FGRDtBQUdBLGdCQUFRLEdBQVIsQ0FBWSxhQUFaO0FBQ0gsT0FMQTtBQU1ELGVBQVMsRUFBQyxNQUFLLFFBQU4sRUFBZ0IsNEJBQWhCLEVBQStCLFlBQS9CLEVBQVQ7QUFFSCxLQVpMO0FBYUcsR0FkTDtBQWVHLENBaEJMOztBQW9CQTtBQUNBLE9BQU8sT0FBUCxHQUFpQixPQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlxuICogVGhpcyBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIHRoZSBKYXZhU2NyaXB0IGFwcGxpY2F0aW9uIHdoaWNoIHJ1bnMgaW4gdGhlXG4gKiB3ZWIgYnJvd3Nlci4gV2UgY2FsbCBgd2luZG93Lm1haW5gIHdoZW4gdGhlIHBhZ2UgbG9hZHMsIGFuZCB1c2UgdGhhdFxuICogb3Bwb3J0dW5pdHkgdG8gY3JlYXRlIHRoZSBSZWR1eCBzdG9yZSBhbmQgbW91bnQgdGhlIHJvb3QgUmVhY3QgY29tcG9uZW50LlxuICovXG5cbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbmNvbnN0IGNyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9oZWxwZXJzL2NyZWF0ZVN0b3JlJyk7XG5jb25zdCBSb290ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShyZXF1aXJlKCcuL2NvbXBvbmVudHMvUm9vdCcpKTtcblxuLy8gSW5pdGlhbGlzYXRpb24gZnVuY3Rpb24gd2hpY2ggd2Ugd2lsbCBjYWxsIG9uIHBhZ2UgbG9hZFxud2luZG93Lm1haW4gPSAoaW5pdGlhbFN0YXRlKSA9PiB7XG4gIC8vIENyZWF0ZSByb290IFJlYWN0IGNvbXBvbmVudCB3aXRoIFJlZHV4IHN0b3JlXG4gIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgY29uc3Qgcm9vdENvbXBvbmVudCA9IFJvb3QoeyBzdG9yZSB9KTtcblxuICAvLyBNb3VudCBSZWFjdCByb290IGNvbXBvbmVudCBpbiBET01cbiAgY29uc3QgbW91bnRQb2ludCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XG4gIFJlYWN0RE9NLnJlbmRlcihyb290Q29tcG9uZW50LCBtb3VudFBvaW50KTtcbn07XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBSZWR1eERldnRvb2xzID0gcmVxdWlyZSgncmVkdXgtZGV2dG9vbHMnKTtcbmNvbnN0IERvY2tNb25pdG9yID0gcmVxdWlyZSgncmVkdXgtZGV2dG9vbHMtZG9jay1tb25pdG9yJykuZGVmYXVsdDtcbmNvbnN0IExvZ01vbml0b3IgPSByZXF1aXJlKCdyZWR1eC1kZXZ0b29scy1sb2ctbW9uaXRvcicpLmRlZmF1bHQ7XG5cbmNvbnN0IEludGVybmFsRGV2VG9vbHMgPSBSZWR1eERldnRvb2xzLmNyZWF0ZURldlRvb2xzKFxuICA8RG9ja01vbml0b3IgdG9nZ2xlVmlzaWJpbGl0eUtleT1cImhcIiBjaGFuZ2VQb3NpdGlvbktleT1cInFcIiBkZWZhdWx0SXNWaXNpYmxlPXtmYWxzZX0+XG4gICAgPExvZ01vbml0b3IgLz5cbiAgPC9Eb2NrTW9uaXRvcj5cbik7XG5cbmNsYXNzIERldlRvb2xzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaXNNb3VudGVkOiBmYWxzZSB9O1xuICB9XG5cbiAgc3RhdGljIGluc3RydW1lbnQoLi4uYXJncykge1xuICAgIHJldHVybiBJbnRlcm5hbERldlRvb2xzLmluc3RydW1lbnQoLi4uYXJncyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNNb3VudGVkOiB0cnVlIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5pc01vdW50ZWQgJiYgPEludGVybmFsRGV2VG9vbHMgLz59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogUmVkdXggZGV2ZWxvcG1lbnQgdG9vbHMgKHVzZWZ1bCBmb3IgZGVidWdnaW5nKS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBEZXZUb29scztcbiIsIi8qKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBIb21lIGNvbXBvbmVudC5cbiAqIE90aGVyIFJlYWN0IGNvbXBvbmVudHMgZm9yIHZpZXdpbmcgbm90ZXMgYW5kIG5vdGVib29rcyBzaG91bGQgYmUgbmVzdGVkXG4gKiBiZW5lYXRoIHRoZSBIb21lIGNvbXBvbmVudC5cbiAqL1xuXG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmNvbnN0IE5vdGVib29rTGlzdCA9IHJlcXVpcmUoJy4vTm90ZWJvb2tMaXN0Jyk7XG5cbi8vV2Ugc3RhcnQgYnVpbGRpbmcgdGhlIGZyb250ZW5kIGZyb20gaGVyZVxuLy9XZSBjYWxsIHRoZSBOb3RlYm9va0xpc3Qgd2hpY2ggZnVydGhlciBjYWxscyBvdGhlciByZXF1cmllZCBjb21wb25lbnRzXG5jb25zdCBIb21lID0gKCkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgIDxoMT5OZXZlcndyb3RlPC9oMT5cbiAgICA8YmxvY2txdW90ZT5cbiAgICAgIE5ldmVyIHNheSBcIkkgbmV2ZXIgd3JvdGUgdGhhdCBkb3duXCIgZXZlciBhZ2FpbiFcbiAgICA8L2Jsb2NrcXVvdGU+XG4gICAgPE5vdGVib29rTGlzdCAvPlxuICA8L2Rpdj5cbik7XG5cbi8vV2UgZXhwb3J0IG91ciBIb21lIENvbXBvbmVudFxubW9kdWxlLmV4cG9ydHMgPSBIb21lO1xuIiwiY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4vL1RoaXMgaXMgdGhlIE1hcmtEb3duRWRpdG9yXG5jbGFzcyBNYXJrZG93bkVkaXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIFNpbXBsZU1ERSBtdXN0IGJlIHJlcXVpcmVkIGhlcmUgc2luY2UgaXQncyBicm93c2VyLW9ubHkuXG4gICAgY29uc3QgU2ltcGxlTURFID0gcmVxdWlyZSgnc2ltcGxlbWRlJyk7XG5cbiAgICAvLyBUdXJuIG91ciBwbGFpbiBvbGQgdGV4dCBhcmVhIGludG8gYSBiZWF1dGlmdWwgbWFya2Rvd24gZWRpdG9yXG4gICAgdGhpcy5zaW1wbGVNREUgPSBuZXcgU2ltcGxlTURFKHtcbiAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcbiAgICAgIHN0YXR1czogZmFsc2UsXG4gICAgICBhdXRvRG93bmxvYWRGb250QXdlc29tZTogZmFsc2UsXG4gICAgICBlbGVtZW50OiB0aGlzLnRleHRhcmVhXG4gICAgfSk7XG5cbiAgICAvLyBQdXQgaW5pdGlhbCB0ZXh0IGluIHRoZSBlZGl0b3JcbiAgICB0aGlzLnNpbXBsZU1ERS52YWx1ZSh0aGlzLnByb3BzLnZhbHVlKTtcblxuICAgIC8vIExpc3RlbiBmb3IgY2hhbmdlcyBhbmQgZmlyZSBhIGNhbGxiYWNrXG4gICAgdGhpcy5zaW1wbGVNREUuY29kZW1pcnJvci5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV3VGV4dCA9IHRoaXMuc2ltcGxlTURFLnZhbHVlKCk7XG4gICAgICBpZihuZXdUZXh0ICE9PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoeyB0YXJnZXQ6IHsgdmFsdWU6IG5ld1RleHQgfSB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAvLyBSZXBsYWNlIHRoZSB0ZXh0IGluIHRoZSBlZGl0b3IsIHByZXNlcnZpbmcgdGhlIGN1cnNvciBwb3NpdGlvbiBhbmRcbiAgICAvLyBzZWxlY3Rpb24gaW5mb1xuICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLnNpbXBsZU1ERS5jb2RlbWlycm9yLmxpc3RTZWxlY3Rpb25zKCk7XG4gICAgdGhpcy5zaW1wbGVNREUudmFsdWUodGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgdGhpcy5zaW1wbGVNREUuY29kZW1pcnJvci5zZXRTZWxlY3Rpb25zKHNlbGVjdGlvbnMpO1xuICB9XG5cbiAgLy8gRGVzY3JpYmUgaG93IHRvIHJlbmRlciB0aGUgY29tcG9uZW50XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCByZWYgPSAoZWxlbWVudCkgPT4geyB0aGlzLnRleHRhcmVhID0gZWxlbWVudDsgfTtcbiAgICByZXR1cm4gKFxuICAgICAgPHRleHRhcmVhIHJlZj17cmVmfSAvPlxuICAgICk7XG4gIH1cbn1cblxuLy8gRXhwb3J0IHRoZSBjb21wb25lbnQgc28gdGhhdCBpdCBjYW4gYmUgcmVxdWlyZWRcbm1vZHVsZS5leHBvcnRzID0gTWFya2Rvd25FZGl0b3I7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBNYXJrZG93bkVkaXRvciA9IHJlcXVpcmUoJy4vTWFya2Rvd25FZGl0b3InKTtcblxuY2xhc3MgTm90ZUVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBjb25zdCBub3RlID0gcHJvcHMubm90ZSB8fCB7fTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB0aXRsZTogbm90ZS50aXRsZSB8fCAnJyxcbiAgICAgIGNvbnRlbnQ6IG5vdGUuY29udGVudCB8fCAnJyxcbiAgICAgIG5vdGVib29rSWQ6IHByb3BzLm5vdGVib29rSWQgfHwgJydcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHJldmVydEFuZFN0b3BFZGl0aW5nID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNhbmNlbCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzdWJtaXRBbmRTdG9wRWRpdGluZyA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGVkaXRlZFBvc3QgPSBfLmFzc2lnbih7fSwgdGhpcy5wcm9wcy5ub3RlLCB7XG4gICAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBjb250ZW50OiB0aGlzLnN0YXRlLmNvbnRlbnQsXG4gICAgICAgIG5vdGVib29rSWQ6IHRoaXMucHJvcHMubm90ZWJvb2tJZFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdlZGl0ZWQgcG9zdCcpO1xuICAgICAgY29uc29sZS50YWJsZShlZGl0ZWRQb3N0KTtcbiAgICAgIHRoaXMucHJvcHMub25TYXZlKGVkaXRlZFBvc3QpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNhbmNlbCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBvblRpdGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHt0aXRsZTogZXZlbnQudGFyZ2V0LnZhbHVlfSk7XG5cbiAgICB9O1xuXG4gICAgY29uc3Qgb25Db250ZW50Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtjb250ZW50OiBldmVudC50YXJnZXQudmFsdWV9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuKFxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiYmxvZy1wb3N0XCI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJOb3RlIHRpdGxlXCIgb25DaGFuZ2U9e29uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDxNYXJrZG93bkVkaXRvciB2YWx1ZT17dGhpcy5zdGF0ZS5jb250ZW50fSBvbkNoYW5nZT17b25Db250ZW50Q2hhbmdlfSAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIkJ1dG5OIGJ0biBidG4tZGFuZ2VyIHB1bGwtcmlnaHQgYnRuLWxnXCJcbiAgICAgICAgICBzdHlsZT17e21hcmdpblJpZ2h0OiAnMTJweCd9fVxuICAgICAgICAgIG9uQ2xpY2s9e3JldmVydEFuZFN0b3BFZGl0aW5nfVxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtcmVtb3ZlXCI+PC9pPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIkJ1dG5OIGJ0biBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0IGJ0bi1sZ1wiXG4gICAgICAgIG9uQ2xpY2s9e3N1Ym1pdEFuZFN0b3BFZGl0aW5nfVxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hlY2tcIj48L2k+XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlRWRpdDsiLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBNYXJrZG93bkVkaXRvciA9IHJlcXVpcmUoJy4vTWFya2Rvd25FZGl0b3InKTtcbmNvbnN0IE5vdGVFZGl0ID0gcmVxdWlyZSgnLi9Ob3RlRWRpdCcpO1xuXG5jbGFzcyBOb3RlTmV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVkaXRpbmc6ZmFsc2UsXG5cbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG9wZW5FZGl0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZWRpdGluZzp0cnVlfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlRWRpdCA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2VkaXRpbmc6ZmFsc2V9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdDYWxsaW5nLi4uJyk7XG4gICAgICB0aGlzLnByb3BzLmNsZWFySW5wdXQoKTtcblxuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZU5vdGUgPSAobmV3Tm90ZSkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5jcmVhdGVOb3RlKG5ld05vdGUsIChlcnIpID0+IHtcbiAgICAgICAgaWYoIWVycikgY2xvc2VFZGl0KCk7XG4gICAgICB9KVxuICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgc3VwcG9zZWQgdG8gc2hvdyB1cCBhZnRlciB0aGUgZmlyc3QgdGFibGUnKTtcbiAgICB9O1xuXG4gICAgaWYodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxOb3RlRWRpdFxuICAgICAgICAgIG5vdGU9e3RoaXMucHJvcHMubm90ZX1cbiAgICAgICAgICBvblNhdmU9e2NyZWF0ZU5vdGV9XG4gICAgICAgICAgb25DYW5jZWw9e2Nsb3NlRWRpdH1cbiAgICAgICAgICBub3RlYm9va0lkPXt0aGlzLnByb3BzLm5vdGVib29rSWR9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm5ldy1ub3RlIGJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgIG9uQ2xpY2s9e29wZW5FZGl0fVxuICAgICAgPlxuICAgICAgPGkgY2xhc3NOYW1lPVwibmV3LW5vdGVib29rLWJ1dHRvbi1wbHVzIGZhIGZhLXBsdXNcIj48L2k+XG4gICAgICBOb3RlXG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTm90ZU5ldzsiLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbmNsYXNzIE5vdGVib29rRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IG5vdGVib29rID0gcHJvcHMubm90ZWJvb2sgfHwge307XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRpdGxlOiBub3RlYm9vay50aXRsZSB8fCAnJyxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHJldmVydEFuZFN0b3BFZGl0aW5nID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNhbmNlbCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzdWJtaXRBbmRTdG9wRWRpdGluZyA9IChldmVudCkgPT4ge1xuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy9DcmVhdGVzIGEgbmV3IE5vdGVib29rIG9iamVjdCBhbmQgc2F2ZXMgaXQuXG4gICAgICBjb25zdCBlZGl0ZWROb3RlYm9vayA9IF8uYXNzaWduKHt9LHRoaXMucHJvcHMubm90ZWJvb2ssIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wcm9wcy5vblNhdmUoZWRpdGVkTm90ZWJvb2spO1xuICAgICAgdGhpcy5wcm9wcy5vbkNhbmNlbCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBvblRpdGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHt0aXRsZTpldmVudC50YXJnZXQudmFsdWV9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJOb3RlYm9va0lucHV0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cFwiPlxuXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5vdGVib29rIHRpdGxlXCIgb25DaGFuZ2U9e29uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWJ0blwiPlxuXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1sZ1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17c3VibWl0QW5kU3RvcEVkaXRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hlY2tcIj48L2k+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXIgYnRuLWxnXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e21hcmdpblJpZ2h0OiAnMTJweCd9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3JldmVydEFuZFN0b3BFZGl0aW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXJlbW92ZVwiPjwvaT5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTm90ZWJvb2tFZGl0OyIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0UmVkdXggPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgY3JlYXRlQWN0aW9uRGlzcGF0Y2hlcnMgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2NyZWF0ZUFjdGlvbkRpc3BhdGNoZXJzJyk7XG5jb25zdCBub3RlYm9va3NBY3Rpb25DcmVhdG9ycyA9IHJlcXVpcmUoJy4uL3JlZHVjZXJzL25vdGVib29rcycpO1xuY29uc3QgTm90ZWJvb2tOZXcgPSByZXF1aXJlKCcuL05vdGVib29rTmV3Jyk7XG5jb25zdCBOb3RlTmV3ID0gcmVxdWlyZSgnLi9Ob3RlTmV3Jyk7XG5cblxuLypUaGlzIGlzIHRoZSBBY3RpdmUgTm90ZWJvb2sgY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgbm90ZSB3aGljaCBpcyBjbGlja2VkXG4gKiBhbmQgaXMgc3VwcG9zZWQgdG8gc2hvdyBpdCdzIGNvbnRlbnRzIChub3RlcykgLiBJZiBjbGlja2VkIGFnYWluIGl0IHdpbGwgcmVzZXRcbiAqIHRoZSBzdGF0ZSBhbmQgbWFrZSBhY3RpdmUgTm90ZWJvb2sgSWQgdG8gLTEgdGhyb3VnaCBjYWxsaW5nIHRoZSByZWR1Y2VyIHJlc2V0Tm90ZWJvb2soKVxuICogcGFzc2VkIHRvIHRoaXMgY29tcG9uZW50IHRocm91Z2ggaXRzIHBhcmVudCBjbGFzcywgTm90ZWJvb2tMaXN0LlxuICogVGh1cywgVHVybmluZyB0aGlzIEFjdGl2ZSBub3RlIGludG8gYSBub3JtYWwgbm90ZS5cbiAqL1xuY2xhc3MgQWN0aXZlTm90ZWJvb2sgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gIC8vVGhlIGNvbnN0cnVjdG9yIGZvciB1c2luZyBzdGF0ZS5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAvL0hlcmUgd2UgcHJvdmlkZSB0aGUgc3RhdGUuXG4gICAgICB0aGlzLnN0YXRlPXtcblxuICAgICAgICAvL3BocmFzZSBpcyB0aGUgc2VhcmNoIHBocmFzZS4gVGhpcyBpcyB0aGUgcGhyYXNlIHRoYXQgaXMgYmVpbmcgdHlwZWQgaW4gdGhlIHNlYXJjaCBiYXIuXG4gICAgICAgIHBocmFzZTogJycsXG4gICAgICAgIC8vVGhpcyBzdG9yZXMgbm90ZXMgdGhhdCBhcmUgbm90IG1hdGNoaW5nIHRoZSBzZWFyY2ggcGhyYXNlLlxuICAgICAgICB0ZW1wTm90ZXM6JycsXG5cbiAgICAgIH07XG5cbiAgfVxuXG4gIC8vVGhpcyBpcyB3aGF0IEFjdGl2ZU5vdGVib29rIG5lZWRzIHRvIHJlbmRlciBhbmQgd2hhdCBpdCBpcyBzdXBwb3NlZCB0byByZW5kZXIuXG4gIHJlbmRlcigpIHtcblxuICAgIC8qIFRoaXMgaXMgdGhlIGNyZWF0ZU5vdGUgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYSBub3RlIG9iamVjdCBhcyBhIHBhcmFtZXRlciBhbmQgcmV0dXJucyBlaXRoZXJcbiAgICAgKiBhbiBBY3RpdmVOb3RlIG9yIGEgc2ltcGxlIE5vdGUuIEFjdGl2ZSBub3RlLCBzaW1pbGFybHkgbGlrZSBhbiBBY3RpdmUgTm90ZWJvb2sgaXMgc3VwcG9zZWRcbiAgICAgKiB0byBzaG93IGl0cyBjb250ZW50LCBpdCBpcyB0aGUgcmVzdWx0YW50IG9mIGEgbm9ybWFsIG5vdGUgYmVpbmcgY2xpY2tlZCwgdGh1cywgb24gcmUtY2xpY2tpbmdcbiAgICAgKiBvciBhY3R1YWxseSBjbGlja2luZyBpdCB3aWxsIGFta2UgdGhlIGNvbnRlbnQgZGlzYXBwZWFyIGFuZCB0dXJuIGl0IGludG8gYSBub3JtYWwgbm90ZS5cbiAgICAgKiB3ZSB3aWxsIGV4cGxhaW4gaG93IGJlbG93LlxuICAgICAqL1xuICAgIGNvbnN0IGNyZWF0ZU5vdGUgPSAobm90ZSkgPT4ge1xuXG4gICAgICAgIC8qIFRoZSBkZWNpc2lvbiB3ZXRoZXIgdG8gcmV0dXJuIGFuIEFjdGl2ZU5vdGUgb3IgYSBub3JtYWwgbm90ZSBoYXBwZW5zIGhlcmUuXG4gICAgICAgICAqIFdlIHN0b3JlIGFuIGFjdGl2ZU5vdGVJZCBpbiB0aGUgTm90ZWJvb2tMaXN0IHN0YXRlLCBzbyBpdCBjb21wYXJlcyBhIHBhcnRpY3VsYXIgbm90ZSdzIElkXG4gICAgICAgICAqIHdpdGggdGhlIGFjdGl2ZSBub3RlIElkICwgYW5kIGlmIGl0IHR1cm5zIG91dCB0byBiZSB0aGUgYWN0aXZlIG5vdGUsIHdlIHJldHVybiBhY3RpdmUgbm90ZVxuICAgICAgICAgKi9cbiAgICAgICAgaWYobm90ZS5pZCA9PT0gdGhpcy5wcm9wcy5hY3RpdmVOb3RlSWQpIHtcbiAgICAgICAgICAvL1dlIHBhc3Mga2V5IGFzIHRoZSBub3RlJ3MgSWQgYW5kIHRoZSBub3RlIGl0c2VsZiBhbG9uZyB3aXRoIGl0J3MgdGl0bGUgYW5kIGNvbnRlbnQsIHdlIGFsc28gcGFzcyBpbiBtZXRob2RzIHRvIGRlbGV0ZSBhbmQgcmVzZXQgYSBub3RlXG4gICAgICAgICAgLy9yZXNldHRpbmcgYSBub3RlIG1lYW4gbWFraW5nIGl0IGludG8gYSBub3JtYWwgbm90ZS5cbiAgICAgICAgICByZXR1cm4gPEFjdGl2ZU5vdGUga2V5PXtub3RlLmlkfSB0aXRsZT17bm90ZS50aXRsZX0gbm90ZT17bm90ZX0gcmVzZXROb3RlPXt0aGlzLnByb3BzLnJlc2V0Tm90ZX0gZGVsZXRlTm90ZT17dGhpcy5wcm9wcy5kZWxldGVOb3RlfSBjb250ZW50PXtub3RlLmNvbnRlbnR9Lz47XG4gICAgICAgIH1cbiAgICAgICAgLy9XZSBwYXNzIGtleSBhcyB0aGUgbm90ZSdzIElkIGFuZCBtZXRob2RzIHRvIGxvYWQgdGhlIG5vdGUncyBvY250ZW50IGFuZCB0byBkZWxldGUgYSBub3RlXG4gICAgICAgIC8vVG8gbG9hZCBhIG5vdGUgaXMgYmFzaWNhbGx5IG1ha2luZyB0aGUgbm90ZSBhY3RpdmUgYW5kIGxvYWQgaXQncyBjb250ZW50cy5cbiAgICAgICAgcmV0dXJuIDxOb3RlIGtleT17bm90ZS5pZH0gbm90ZT17bm90ZX0gbG9hZE5vdGVDb250ZW50PXt0aGlzLnByb3BzLmxvYWROb3RlQ29udGVudH0gZGVsZXRlTm90ZT17dGhpcy5wcm9wcy5kZWxldGVOb3RlfS8+O1xuXG4gICAgfVxuXG4gICAgLyogIFRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHdlIGNsaWNrIGFuIEFjdGl2ZSBub3RlYm9va1xuICAgICAqICBUaGUgbm9ybWFsIG5vdGVib29rIGhhdmUgb25lIG9mIGl0J3Mgb3duLlxuICAgICAqL1xuICAgIGNvbnN0IG9uQ2xpY2tOb3RlYm9vayA9IChldmVudCkgPT4ge1xuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy9UaGlzIHdpbGwgY2FsbCB0aGUgcmVkdWNlciB0byByZXNldCB0aGUgYWN0aXZlIG5vdGVib29rIGJhY2sgdG8gYSBub3JtYWwgbm90ZWJvb2suXG4gICAgICB0aGlzLnByb3BzLnJlc2V0Tm90ZWJvb2soKTtcblxuICAgIH07XG5cbiAgICAvLyBUaGUgZnVjdGlvbiB3aGljaCBpcyBjYWxsZWQgd2hlbiB5b3UgcHJlc3MgdGhlIGRlbGV0ZSBidXR0b25cbiAgICBjb25zdCBvbkRlbGV0ZU5vdGVib29rQnV0dG9uQ2xpY2sgPSAoZXZlbnQpID0+IHtcblxuICAgICAgLy9UaGlzIHdpbGwgcGFzcyB0aGUgbm90ZWJvb2tJZCB0byB0aGUgYWN0aW9uIGNyZWF0b3IgaW4gdGhlIHJlZHVjZXIuXG4gICAgICB0aGlzLnByb3BzLmRlbGV0ZU5vdGVib29rKHRoaXMucHJvcHMubm90ZWJvb2suaWQpO1xuXG4gICAgfTtcblxuXG4gICAgLy9UaGlzIGlzIHRoZSBmdW5jdGlvbiB1c2VkIG1vb3N0bHkgYnkgdGhlIGVyYXNlciBidXR0b24gaW4gdGhlIHNlYXJjaCBiYXIuXG4gICAgLy9vdGhlciBmdWNudGlvbnMgdXNlIGl0IGlmIHdlIHdhbnQgZXZlcnl0aGluZyBiYWNrIHRvIGludGl0YWwgc3RhdGUuXG4gICAgY29uc3QgY2xlYXJJbnB1dCA9ICgpID0+IHtcblxuICAgICAgLy9JdCBzZXRzIHRoZSBjdXJyZW50IHN0YXRlIHRvIGhvdyBpdCBsb29rZWQgbGlrZSBpbml0aWFsbHkuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcGhyYXNlOicnLFxuICAgICAgICB0ZW1wTm90ZXM6ICcnLFxuICAgICAgfSk7XG4gICAgICAvL0l0IHNlYXJjaGVzIGFuIGVtcHR5IHN0cmluZy4gVGh1cyBubyByZXN1bHRzIHBvcCB1cC4gSnVzdCBsaWtlIHRoZSBpbml0aWFsIHN0YXRlLlxuICAgICAgb25TZWFyY2goJycpO1xuXG4gICAgfTtcblxuXG4gICAgLy9UaGlzIGlzIGNhbGxlZCB3aGVuIHdlIGNoYW5nZSB0aGUgaW5wdXQgaW4gdGhlIHNlYXJjaCBiYXIuXG4gICAgY29uc3Qgb25TZWFyY2hpbmcgPSAoZXZlbnQpID0+IHtcblxuICAgICAgICAgIC8vV2UgcmVjb3JkIHRoZSB0eXBlZCB0ZXh0IGluIG91ciBjb25zdGFudCwgcGhyYXNlXG4gICAgICAgICAgY29uc3QgcGhyYXNlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgIC8vV2Ugc2V0IHRoZSBzdGF0ZSdzIHBocmFzZSB0byBvdXQgcGhyYXNlXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cGhyYXNlfSk7XG4gICAgICAgICAgLy9UaGlzIGZ1cnRoZXIgY2FsbHMgb3V0IGFub3RoZXIgaGVscGVyIG1ldGhvZCB3aGljaCBkb2VzIHRoZSBmdXJ0aGVyIHByb2NlZHVyZS5cbiAgICAgICAgICBvblNlYXJjaChwaHJhc2UpO1xuXG4gICAgfTtcblxuICAgIC8vVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgYnkgdGhlIG9uU2VhcmNoaW5nIGZ1bmN0aW9uLlxuICAgIGNvbnN0IG9uU2VhcmNoID0gKHBocmFzZSkgPT4ge1xuXG4gICAgICAgIC8vSXQgY3JlYXRlcyBhIHRlbXBvcmFyeSBhcnJheSB3aGljaCBzdG9yZXMgYWxsIHRoZSBub3RlcyB0aGF0IGFyZSBub3Qgc3VwcG9zZWQgdG8gYmUgc2hvd24gaW4gdGhlIHNlYXJjaCByZXN1bHRzXG4gICAgICAgIGNvbnN0IHRlbXBOb3Rlcz1bXTtcblxuICAgICAgICAvL1dlIHNldCB0aGUgdGVtcE5vdGVzIGluIG91ciBzdGF0ZSB0byB0aGlzIGVtcHR5IHRlbXBOb3Rlcy5UbyBub3QgdG8ga2VlcCBvbiBhZGRpbmcgc3R1ZmZzIGluIGl0LlxuICAgICAgICAvL0lmIHdlIGRvbnQgZG8gdGhpcywgb24gb25lIHN0YWdlLCB3ZSB3b250IHNlZSBhbnl0aGluZyBpbiB0aGUgc2VhcmNoIHJlc3VsdHMuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3RlbXBOb3Rlc30pO1xuXG4gICAgICAgIC8vRm9yIGVhY2ggbm90ZXMgd2UgY2hlY2sgaWYgaXQgaGFzIHdoYXQgaXQgdGFrZXMgdG8gYmUgaW4gdGhlIHNlYXJjaCByZXN1bHRzXG4gICAgICAgIHRoaXMucHJvcHMubm90ZXMubWFwKG5vdGUgPT4ge1xuXG4gICAgICAgICAgLy9JZiB0aGUgdGlsZSBvciB0aGUgY29udGVudHMgb2YgYSBub3RlIGhhdmUgdGhhdCBwaHJhc2UgaW4gaXQgc29tZXdlaGVyZSwgd2UgZG8gbm90IHB1c2ggdGhlIG5vdGVcbiAgICAgICAgICAvL1RoZSBFbXB0eSBwaHJhc2UgbWVhbnMgaW5pdGlhbCBzdGF0ZSBvciBubyBzZWFyY2hpbmcgc3RhdGUsIHdoZXJlIGFsbCBub3RlcyBhcmUgc3VwcG9zZWQgdG8gYmUgdGhlcmVcbiAgICAgICAgICAvL1RodXMsIGlmIHRoZSBwaHJhc2UgaWQgZW1wdHkgc3RyaW5nIHdlIGRvIG5vdCBwdXNoIHRoZSBub3RlLlxuICAgICAgICAgIGlmKCEobm90ZS50aXRsZS5jb250YWlucyhwaHJhc2UpfHwgbm90ZS5jb250ZW50LmNvbnRhaW5zKHBocmFzZSkgfHwgcGhyYXNlID09PScnKSlcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wTm90ZXMucHVzaChub3RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICAvL3dlIGZpbmFsbHkgc2V0IHRoZSB0ZW1wTm90ZXMgaW4gc3RhdGUgdG8gYmUgdGhlIG9uZSB3ZSBqdXN0IHByZXBhcmVkLlxuICAgICAgICB0aGlzLnNldFN0YXRlKHt0ZW1wTm90ZXN9KTtcblxuICAgfVxuXG5cblxuICAgIC8vVGhlIHJldHVybiBzdGF0ZW1lbnQgc2hvd3Mgd2hhdCB3ZSBhcmUgc3VwcG9zZWQgdG8gcHJvdmlkZVxuICAgIC8vQSBub3RlYm9vayB0aXRsZSwgY2xpY2sgaXQgYW5kIGl0IGJlY29tZXMgbm9ybWFsXG4gICAgLy9BIGRlbGV0ZSBidXR0b25cbiAgICAvL0Egc2VhcmNoIGJhciB3aXRoIGFuIGVyYXNlclxuICAgIC8vQWRkIG5ldyBub3RlIGJ1dHRvblxuICAgIC8vU2VhcmNoIHJlc3VsdHNcbiAgICAvL1dlIHVzZSBfLmRpZmZlcmVuY2UgdG8gZGlzcGxheSBvbmx5IHRoZSBub3RlcyB3aGljaCBhcmUgbm90IGluIHRlbXBOb3RlcywgYmFzaWNhbGx5IHdlIGFyZSBkaXNwbGF5aW4gc2VhcmNoIHJlc3VsdHMuXG5cbiAgICByZXR1cm4gKFxuXG5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJVbm9yZGVyZWRMaXN0Q2hpbGROQlwiPlxuXG4gICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYWN0aXZlVGV4dE5vdGVib29rXCIgaHJlZj1cIiNcIiBvbkNsaWNrPXtvbkNsaWNrTm90ZWJvb2t9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLm5vdGVib29rLnRpdGxlfVxuICAgICAgICAgIDwvYT5cblxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiUmVkLUNyb3NzIGJ0biBidG4tZGFuZ2VyIGJ0bi1zbVwiIG9uQ2xpY2s9e29uRGVsZXRlTm90ZWJvb2tCdXR0b25DbGlja30+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1yZW1vdmVcIj48L2k+XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8ZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwXCI+XG5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5waHJhc2V9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaC4uLi5cIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uU2VhcmNoaW5nfVxuXG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtYnRuXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4td2FybmluZyBidG4tbGdcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7bWFyZ2luUmlnaHQ6ICcxMnB4J319XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1lcmFzZXJcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIk5vdGVzXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8aDM+Tm90ZXNcbiAgICAgICAgICAgICAgICAgICAgICA8Tm90ZU5ldyBjbGVhcklucHV0PXtjbGVhcklucHV0fSBjcmVhdGVOb3RlID17dGhpcy5wcm9wcy5jcmVhdGVOb3RlfSBub3RlYm9va0lkPXt0aGlzLnByb3BzLmFjdGl2ZU5vdGVib29rSWR9Lz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICAgICAgICAgICAgPG9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBfLmRpZmZlcmVuY2UodGhpcy5wcm9wcy5ub3Rlcyx0aGlzLnN0YXRlLnRlbXBOb3RlcykubWFwKG5vdGUgPT4gY3JlYXRlTm90ZShub3RlKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vQWN0aXZlTm90ZSwgd2hpY2ggaXMgdGhlIG5vdGUgdGhhdCBpcyBoaWdobGlnaHRlZCBhbmQgZGlzcGxheXMgc29tZSBjb250ZW50XG5jbGFzcyBBY3RpdmVOb3RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gIH1cblxuICAvL1RoZSBmb2xsb3dpbmcgaXMgd2hhdCB0aGF0IGlzIGdvaW5nIHRvIGJlIHJlbmRlcmVkIGFuZCB3aGF0IGFzc2lzdGluZyByZW5kZXJcbiAgcmVuZGVyKCl7XG5cbiAgICAvL1RoaXMgaXMgdGhlIGZ1bmN0aW9uIHdoaWNoIGlzIGV4ZWN1dGVkIHdoZW4gYSBOb3RlIGlzIGNsaWNrZWQuXG4gICAgY29uc3Qgb25DbGlja05vdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvL1RoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgd2FzIHBhc3NlZCB0byB0aGUgQWN0aXZlIG5vdGUsIHdoaWNoIGdvZXMgdG8gdGhlIHJlZHVjZXIgYW5kIGludm9rZXMgYWN0aW9uIG9mIHJlc2V0aW5nIGEgbm90ZSB0byBpdCdzIG5vcm1hbCBzdGF0ZVxuICAgICAgdGhpcy5wcm9wcy5yZXNldE5vdGUoKTtcbiAgICB9O1xuXG4gICAgLy9UaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGdvaW5nIHRvIGJlIGludm9rZWQgd2hlbiB3ZSBjbGljayB0aGUgZGVsZXRlIGJ1dHRvbi5cbiAgICBjb25zdCBvbkRlbGV0ZU5vdGVCdXR0b25DbGljayA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCB3YXMgcGFzc2VkIHRvIHRoZSBBY3RpdmUgbm90ZSwgd2hpY2ggZ29lcyB0byB0aGUgcmVkdWNlciBhbmQgaW52b2tlcyBhY3Rpb24gb2YgZGVsZXRpbmcgYSBub3RlLlxuICAgICAgdGhpcy5wcm9wcy5kZWxldGVOb3RlKHRoaXMucHJvcHMubm90ZS5pZCk7XG4gICAgfTtcblxuXG4gICAgLy9XZSByZXR1cm4gYSBsaXN0IGVsZW1lbnQgd2l0aCBhIGNsaWNrYWJsZSB0aXRsZSwgd2hpY2ggb24gY2xpY2tpbmcgcmV2ZXJ0cyBiYWNrIHRvIG5vcm1hbCxcbiAgICAvL0EgZGVsZXRlIGJ1dHRvbiB3aGljaCBkZWxldGVzIHRoZSBub3RlXG4gICAgLy9BbmQgdGhlIGNvbnRlbnQgb2YgdGhlIG5vdGUuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJVbm9yZGVyZWRMaXN0Q2hpbGROXCI+XG5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJSZWQtQ3Jvc3MgYnRuIGJ0bi1kYW5nZXIgYnRuLXhzXCIgb25DbGljaz17b25EZWxldGVOb3RlQnV0dG9uQ2xpY2t9PlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXJlbW92ZVwiPjwvaT5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGEgY2xhc3NOYW1lPVwiYWN0aXZlVGV4dE5vdGVcIiBocmVmPVwiI1wiIG9uQ2xpY2s9e29uQ2xpY2tOb3RlfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy50aXRsZX0gICAgJnJBcnI7XG4gICAgICAgIDwvYT5cblxuICAgICAgICB7dGhpcy5wcm9wcy5jb250ZW50fVxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vVGhlIGNsYXNzIE5vdGUgdGhhdCByZW5kZXJzIGEgbm9ybWFsIG5vdGUgd2l0aCBhYmlsaXR5IHRvIGJlaW5nIGRlbHRlZCBhbmQgc2hvdyBjb250ZW50XG5jbGFzcyBOb3RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gIH1cbiAgcmVuZGVyKCl7XG5cbiAgICAvL0Z1Y250aW9uIGNhbGxlZCB3aGVuIG5vdGUgaXMgY2xpY2tlZFxuICAgIGNvbnN0IG9uQ2xpY2tOb3RlID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy9jb250ZW50cyBsb2FkZWQgd2hlbiBub3RlIGNsaWNrZWQsIGNhbGwgY3JlYXRpbmcgYW4gYWN0aW9uLlxuICAgICAgdGhpcy5wcm9wcy5sb2FkTm90ZUNvbnRlbnQodGhpcy5wcm9wcy5ub3RlLmlkKTtcbiAgICB9O1xuXG4gICAgLy9GdW5jdGlvbiBjYWxsZWQgd2hlbiBkZWxldGUgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICBjb25zdCBvbkRlbGV0ZU5vdGVCdXR0b25DbGljayA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vTm90ZSBkZWx0ZWQsIGNhbGwgY3JlYXRpbmcgYWN0aW9uIHRvIGRlbGV0ZSB0aGUgbm90ZS5cbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlTm90ZSh0aGlzLnByb3BzLm5vdGUuaWQpO1xuICAgIH07XG5cblxuICAgIC8vV2UgcmV0dXJuIGEgbGlzdCBlbGVtZW50IHdpdGggYSBkZWxldGUgYnV0dG9uIGFuZCB0aGUgbm90ZSB0aXRsZVxuICAgIHJldHVybihcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJVbm9yZGVyZWRMaXN0Q2hpbGROXCI+XG5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJSZWQtQ3Jvc3MgYnRuIGJ0bi1kYW5nZXIgYnRuLXhzXCIgb25DbGljaz17b25EZWxldGVOb3RlQnV0dG9uQ2xpY2t9PlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXJlbW92ZVwiPjwvaT5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXtvbkNsaWNrTm90ZX0+XG4gICAgICAgICAge3RoaXMucHJvcHMubm90ZS50aXRsZX1cbiAgICAgICAgPC9hPlxuXG4gICAgICA8L2xpPlxuXG4gICAgKTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vL1RoZSBjbGFzcyBOb3RlYm9vaywgcmVzcG9uc2libGUgZm9yIHJlZGVyaW5nIGEgbm9ybWFsIG5vdGVib29rXG5jbGFzcyBOb3RlYm9vayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gIH1cblxuICAvL1RoZSBmb2xsb3dpbmcgaXMgd2hhdCB3aGljaCB3aWxsIHJlbmRlciBvciBhc3Npc3QgdG8gcmVuZGVyLlxuICByZW5kZXIoKSB7XG5cbiAgICAvL1RoaXMgaXMgdGhlIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCB3aGVuIGEgTm90ZWJvb2sgdGl0bGUgaXMgY2xpY2tlZFxuICAgIGNvbnN0IG9uQ2xpY2tOb3RlYm9vayA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vVGhlIGJlbG93IGZ1bmN0aW9uIHdhcyBwYXNzZWQgdG8gdGhlIG5vdGVzIGJ5IE5vdGVib29rTGlzdCwgaXQgaW52b2tlcyBhY3Rpb24gdG8gbG9hZCBhbGwgdGhlIG5vdGVzIHVuZGVyIHRoaXMgbm90ZWJvb2suXG4gICAgICB0aGlzLnByb3BzLmxvYWROb3Rlcyh0aGlzLnByb3BzLm5vdGVib29rLmlkKTtcbiAgICB9O1xuXG4gICAgLy9UaGlzIGlzIHRoZSBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgd2hlbiB3ZSBwcmVzcyB0aGUgZGVsZXRlIGJ1dHRvbiBuZXh0IHRvIG5vdGVib29rLlxuICAgIGNvbnN0IG9uRGVsZXRlTm90ZWJvb2tCdXR0b25DbGljayA9IChldmVudCkgPT4ge1xuICAgICAgLy9UaGlzIHdpbGwgZnVydGhlciBkaXNwYXRjaCBhbiBhY3Rpb24gYW5kIGRlbGV0ZSB0aGUgbm90ZWJvb2sgaG9zZSBJRCBpcyBwYXNzZWQgaW4uXG4gICAgICB0aGlzLnByb3BzLmRlbGV0ZU5vdGVib29rKHRoaXMucHJvcHMubm90ZWJvb2suaWQpO1xuICAgIH07XG5cbiAgICAvL1dlIHJldHVybiBhIGxpc3QgZWxlbWVudCB3aXRoIGEgdGl0bGUgYW5kIHRoZSBkZWxldGUgYnV0dG9uXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJVbm9yZGVyZWRMaXN0Q2hpbGROQlwiPlxuXG4gICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXtvbkNsaWNrTm90ZWJvb2t9PlxuICAgICAgICAgICAge3RoaXMucHJvcHMubm90ZWJvb2sudGl0bGV9XG4gICAgICAgICAgPC9hPlxuXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJSZWQtQ3Jvc3MgYnRuIGJ0bi1kYW5nZXIgYnRuLXhzXCIgb25DbGljaz17b25EZWxldGVOb3RlYm9va0J1dHRvbkNsaWNrfT5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXJlbW92ZVwiPjwvaT5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuXG4gICAgICA8L2xpPlxuXG4gICAgKTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vL1RoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBzZWFyY2ggcmVzdWx0cyB3ZSBnZXQgZnJvbSB0aGUgc2VhcmNoIHdoaWNoIHVzZXMgQVBJLlxuY2xhc3MgU2VhcmNoZWROb3RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgfVxuXG4gIHJlbmRlcigpe1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJVbm9yZGVyZWRMaXN0Q2hpbGROXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMubm90ZS50aXRsZX0gICA6ICAge3RoaXMucHJvcHMubm90ZS5jb250ZW50fVxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy9UaGlzIGlzIHRoZSBOb3RlYm9va0xpc3QgY2xhc3Mgd2hpY2ggcmVwcmVzZW50cyB0aGUgTm90ZWJvb2sgTGlzdCBhbmQgZXZlcnl0aGluZyBpbmNsdWRlZCBpbiBpdC5cbmNsYXNzIE5vdGVib29rTGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgIHN1cGVyKHByb3BzKTtcbiAgICAvL1RoaXMgc3RhdGUgaGFzIHRoZSBwaHJhc2UgZW50ZXJlZCBpbiB0aGUgbWFpbiBBUEkgc2VhcmNoIGJhcihsZXRzIGNhbGwgaXQgdGhhdCBmb3Igc2hvcnQpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBocmFzZTonJyxcbiAgICB9O1xuXG4gIH1cblxuICAvL0ZvbGxvd2luZyBpcyB3aGF0IHRoYXQgaXMgcmVuZGVyZWQgYW5kIGFzc2lzdGluZyBpbiByZW5kZXJpbmcgYnkgdGhlIG5vdGVib29rTGlzdC9cbiAgcmVuZGVyKCkge1xuXG4gICAgLy9UaGlzIGlzIHRoZSBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgdGhlIHZlcnkgZmlyc3QgYnkgdGhlIE5vdGVib29rTGlzdCwgaXQgZmlsbHMgdXAgb3VyIE5vdGVib29rc1xuICAgIGNvbnN0IGNyZWF0ZU5vdGVib29rTGlzdEl0ZW0gPSAobm90ZWJvb2spID0+IHtcblxuICAgICAgLy9XZSBoYXZlIGFjdGl2ZU5vdGVib29rSWQgaW4gdGhlIG5vdGVib29rIHN0YXRlIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNsaWNrZWQgbm90ZWJvb2tcbiAgICAgIC8vSW5pdGlhbGx5LCB0aGUgdmFsdWUgb2YgdGhlIGFjdGl2ZU5vdGVib29rSWQgd2lsbCBiZSAtMSwgc28gYWxsIG5vcm1hbCBub3RlcyB3aWxsIGJlIHJldHVybmVkIGFuZCByZW5kZXJlZC5cbiAgICAgIGlmKG5vdGVib29rLmlkID09PSB0aGlzLnByb3BzLm5vdGVib29rcy5hY3RpdmVOb3RlYm9va0lkKSB7XG5cbiAgICAgICAgLy9XZSBoYXZlIGRpc2N1c3NlZCBhbGwgdGhlIHBhcmFtZXRlcnMgdGhlIEFjdGl2ZU5vdGVib29rIHJlcXVpZXMgYWJvdmUuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEFjdGl2ZU5vdGVib29rXG4gICAgICAgICAgICBrZXk9e25vdGVib29rLmlkfVxuICAgICAgICAgICAgbm90ZWJvb2s9e25vdGVib29rfVxuICAgICAgICAgICAgZGVsZXRlTm90ZWJvb2s9e3RoaXMucHJvcHMuZGVsZXRlTm90ZWJvb2t9XG4gICAgICAgICAgICBub3Rlcz17dGhpcy5wcm9wcy5ub3RlYm9va3Mubm90ZXN9XG4gICAgICAgICAgICBsb2FkTm90ZXM9e3RoaXMucHJvcHMubG9hZE5vdGVzfVxuICAgICAgICAgICAgbG9hZE5vdGVDb250ZW50PXt0aGlzLnByb3BzLmxvYWROb3RlQ29udGVudH1cbiAgICAgICAgICAgIGFjdGl2ZU5vdGVJZD17dGhpcy5wcm9wcy5ub3RlYm9va3MuYWN0aXZlTm90ZUlkfVxuICAgICAgICAgICAgZGVsZXRlTm90ZSA9IHt0aGlzLnByb3BzLmRlbGV0ZU5vdGV9XG4gICAgICAgICAgICBjcmVhdGVOb3RlID0ge3RoaXMucHJvcHMuY3JlYXRlTm90ZX1cbiAgICAgICAgICAgIGFjdGl2ZU5vdGVib29rSWQgPXt0aGlzLnByb3BzLm5vdGVib29rcy5hY3RpdmVOb3RlYm9va0lkfVxuICAgICAgICAgICAgcmVzZXROb3RlID0ge3RoaXMucHJvcHMucmVzZXROb3RlfVxuICAgICAgICAgICAgcmVzZXROb3RlYm9vayA9IHt0aGlzLnByb3BzLnJlc2V0Tm90ZWJvb2t9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy9JZiBub3QgYWN0aXZlLCBpdHMgYSBub3JtYWwgbm90ZWJvb2ssIHdoaWNoIGp1c3QgbmVlZHMgZnVjdGlvbnMgdG8gZGVsZXRlIGFuZFxuICAgICAgLy9mdWNudGlvbiB0byBiZWNvbWUgYWN0aXZlLlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Tm90ZWJvb2tcbiAgICAgICAgICAgICAga2V5PXtub3RlYm9vay5pZH1cbiAgICAgICAgICAgICAgbm90ZWJvb2s9e25vdGVib29rfVxuICAgICAgICAgICAgICBsb2FkTm90ZXM9e3RoaXMucHJvcHMubG9hZE5vdGVzfVxuICAgICAgICAgICAgICBkZWxldGVOb3RlYm9vaz17dGhpcy5wcm9wcy5kZWxldGVOb3RlYm9va31cbiAgICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9O1xuXG5cbiAgICAvL1RoaXMgaXMgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIHdoZW4gd2UgY2hhbmdlLyB0eXBlIHNvbWV0aGluZyBpbiB0aGUgaW5wdXQgb2YgdGhlIHNlYXJjaCBiYXJcbiAgICBjb25zdCBvblNlYXJjaGluZyA9IChldmVudCkgPT4ge1xuXG4gICAgICAgIC8vVGhlIGNvbnN0YW50IHBocmFzZSB0YWtlcyBpbiB0aGUgdGV4dFxuICAgICAgICBjb25zdCBwaHJhc2UgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIC8vV2UgdGhlbiBzZXQgdGhlIHN0YXRlIHRvIHRoaXMgcGhyYXNlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3BocmFzZX0pO1xuICAgICAgICAvL1dlIHRoZW4gc2VhcmNoIGZvciB0aGUgcGhyYXNlXG4gICAgICAgIG9uU2VhcmNoKHBocmFzZSk7XG5cbiAgICB9O1xuXG4gICAgLy9UaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IGNhcnJ5IG91dCBzZWFyY2hpbmdcbiAgICBjb25zdCBvblNlYXJjaCA9IChwaHJhc2UpID0+IHtcblxuICAgICAgLy9pZiB0aGUgcGhyYXNlIGlzIGluIGRlZmF1bHQgc3RhdGUgb3Igbm90aGluZyBpcyB0eXBlZCBvciBldmVyeXRoaW5nIGlzIGVyYXNlZCwgdGhlbiBub3RoaW5nIGlzIHNlYXJjaGVkLlxuICAgICAgaWYoIShwaHJhc2U9PT0nJykpXG4gICAgICB7XG4gICAgICAgIC8vaWYgdGhlcmUgaXMgYWN0dWFsbHkgc29tZXRoaW5nIHRvIHNlYXJjaCwgd2Ugc2VhcmNoXG4gICAgICAgIC8vVGhpcyB3aWxsIGxlYWQgdG8gZGlzcGF0Y2hpbmcgYW4gYWN0aW9uIHRoYXQgdGFrZXMgcmVzcG9uc2liaWxpdHkgZm9yIHNlYXJjaGluZyB1c2luZyBhbiBhcGkgY2FsbC5cbiAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaE5vdGVzKHBocmFzZSk7XG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgLy9UaGlzIGlzIHRoZSBmdW5jdGlvbiBpbnZva2VkIHdoZW4gd2UgcHJlc3MgdGhlIGVyYXNlciBidXR0b25cbiAgICBjb25zdCBjbGVhcklucHV0ID0gKCkgPT4ge1xuXG4gICAgICAvL1RoaXMgYnJpbmdzIGJhY2sgdGhlIGluaXRpYWwgc3RhdGUuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcGhyYXNlOicnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vV2Ugc2VhcmNoIG5vdGhpbmcsIGxpa2UgdGhlIGludGlhbCBzdGF0ZVxuICAgICAgb25TZWFyY2goJycpXG4gICAgfTtcblxuXG4gICAgLy9UaGlzIGlzIHRoZSBmdWN0aW9uIHdoaWNoIHdpbGwgY3JlYXRlIGEgbm90ZXMgYmFzZWQgb24gdGhlIHNlYXJjaGVkTm90ZXMgcGFzc2VkIGluIGFzIHByb3BzLCB3aGljaCBjYW1lIGZyb20gdGhlIGFwaVxuICAgIC8vaXQgY2FsbHMgdGhlIFNlYXJjaGVkTm90ZSBjb21wb25lbnQgZm9yIGVhY2ggbm90ZS5cbiAgICBjb25zdCBjcmVhdGVOb3RlID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubm90ZWJvb2tzLnNlYXJjaGVkTm90ZXMubWFwKChub3RlKSA9PiB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gPFNlYXJjaGVkTm90ZSBrZXk9e25vdGUuaWR9IG5vdGU9e25vdGV9Lz5cblxuICAgICAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy90aGlzIGlzIHRoZSBmdW5jdGlvbiB3aGljaCBsb2FkcyBub3RlcyB0aGF0IHdlcmUgc2VhcmNoZWRcbiAgICBjb25zdCBsb2FkU2VhcmNoZWROb3RlcyA9ICgpID0+IHtcblxuICAgICAgLy9JZiB0aGUgcGhyYXNlIGlzIGluIGluaXRpYWwgc3RhdGUgb3IgaWYgdGhlIGVyYXNlciBidXR0b24gaGFzIGJlZW4gcHJlc3NzZWQgdGhlbiBkb250IHNlYXJjaC5cbiAgICAgIGlmKHRoaXMuc3RhdGUucGhyYXNlPT09XCJcIiApXG4gICAgICB7XG5cbiAgICAgIH1cbiAgICAgIC8vRWxzZSBzZWFyY2hcbiAgICAgIGVsc2V7XG4gICAgICAgICAgLy9XZSByZXR1cm4gQSBoZWFkaW5nIGZvciBzZWFyY2ggcmVzdWx0cyBhbmQgYW4gb3JkZXJlZCBsaXN0IG9mIGh0ZSBzZWFyY2hlZCBub3Rlcy5cbiAgICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaFwiPlxuXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInNlYXJjaEhlYWRcIj5TZWFyY2ggUmVzdWx0czwvcD5cblxuICAgICAgICAgICAgICAgICAgICA8b2w+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVOb3RlKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L29sPlxuXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgLy9UaGlzIGlzIHRoZSBzZWFyY2ggYmFyIGFuZCB0aGUgcmVzdWx0cyBvZiB0aGUgc2VhcmNoIGJlaW5nIGRpc3BsYXllZFxuICAgIC8vd2UgcmV0dXJuIGFuIGlucHV0IGJveCB3aGljaCB0YWtlcyB0ZXh0IGFuZCBjYWxscyB0aGUgZnVuY3Rpb25zIHdlIGRpc2N1c3NlZCBhbHJlYWR5XG4gICAgLy93ZSBsb2FkIHRoZSBzZWFyY2ggcmVzdWx0c1xuICAgIC8vV2UgZ2l2ZSB0aGUgb3B0aW9uIHRvIGFkZCBuZXcgbm90ZWJvb2tzXG4gICAgLy9XZSByZXRydW4gdGhlIGxpc3Qgb2Ygbm90ZWJvb2tzIHRvb1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXBcIj5cblxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBocmFzZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaC4uLi5cIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvblNlYXJjaGluZ31cblxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtYnRuXCI+XG5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi13YXJuaW5nIGJ0bi1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7bWFyZ2luUmlnaHQ6ICcxMnB4J319XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFySW5wdXR9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1lcmFzZXJcIj48L2k+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdj5cblxuICAgICAgICAgIHtsb2FkU2VhcmNoZWROb3RlcygpfVxuXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxoMj5Ob3RlYm9va3NcbiAgICAgICAgPE5vdGVib29rTmV3XG4gICAgICAgICAgICBjcmVhdGVOb3RlYm9vaz17dGhpcy5wcm9wcy5jcmVhdGVOb3RlYm9va31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDwvaDI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0T2ZOb3RlYm9va3NcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5ub3RlYm9va3Mubm90ZWJvb2tzLm1hcChjcmVhdGVOb3RlYm9va0xpc3RJdGVtKX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuLy90aGUgYmVsb3cgZnVuY3Rpb24gcGFzc2VzIHRoZSByZWR1Y2VyIG5vdGVib29rJ3Mgc3RhdGUgdG8gdGhlIE5vdGVib29rTGlzdCBhcyBwcm9wc1xuY29uc3QgTm90ZWJvb2tMaXN0Q29udGFpbmVyID0gUmVhY3RSZWR1eC5jb25uZWN0KFxuXG4gIChzdGF0ZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgbm90ZWJvb2tzOiBzdGF0ZS5ub3RlYm9va3MsXG4gICAgbm90ZXM6IHN0YXRlLm5vdGVzLFxuICAgIGFjdGl2ZU5vdGVJZDogc3RhdGUuYWN0aXZlTm90ZUlkLFxuICAgIHNlYXJjaGVkTm90ZXM6IHN0YXRlLnNlYXJjaGVkTm90ZXMsXG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlQWN0aW9uRGlzcGF0Y2hlcnMobm90ZWJvb2tzQWN0aW9uQ3JlYXRvcnMpXG4pKE5vdGVib29rTGlzdCk7XG5cblxuLy9XZSBleHBvcnQgdGhlIE5vdGVib29rTGlzdENvbnRhaW5lclxubW9kdWxlLmV4cG9ydHMgPSBOb3RlYm9va0xpc3RDb250YWluZXI7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBOb3RlYm9va0VkaXQgPSByZXF1aXJlKCcuL05vdGVib29rRWRpdCcpO1xuXG4vKipcbiAqIEEgYnV0dG9uIHRoYXQgZXhwYW5kcyAgaW50byBhIGZvcm0gd2hlbiBpdCBpcyBjbGlja2VkXG4gKi9cblxuY2xhc3MgTm90ZWJvb2tOZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIC8vc2V0IHRoZSBpbnRpdGFsIGludGVyYW5sIHN0YXRlIGZvciB0aGlzIG9jbXBvZW50bmVcbiAgICB0aGlzLnN0YXRlID0ge2VkaXRpbmc6ZmFsc2V9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG9wZW5FZGl0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZWRpdGluZzogdHJ1ZX0pO1xuICAgIH07XG5cbiAgICBjb25zdCBjbG9zZUVkaXQgPSAoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtlZGl0aW5nOiBmYWxzZX0pO1xuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVOb3RlYm9vayA9IChuZXdOb3RlYm9vaykgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5jcmVhdGVOb3RlYm9vayhuZXdOb3RlYm9vaywgKGVycikgPT4ge1xuICAgICAgICBpZighZXJyKSBjbG9zZUVkaXQoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIGlmKHRoaXMuc3RhdGUuZWRpdGluZykge1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Tm90ZWJvb2tFZGl0XG4gICAgICAgICAgbm90ZWJvb2sgPSB7dGhpcy5wcm9wcy5ub3RlYm9va31cbiAgICAgICAgICBvblNhdmU9e2NyZWF0ZU5vdGVib29rfVxuICAgICAgICAgIG9uQ2FuY2VsPXtjbG9zZUVkaXR9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybihcbiAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwibmV3LW5vdGVib29rLWJ1dHRvbiBidG4gYnRuLXByaW1hcnlcIiBvbkNsaWNrPXtvcGVuRWRpdH0+XG4gICAgICAgIDxpIGNsYXNzTmFtZT1cIm5ldy1ub3RlYm9vay1idXR0b24tcGx1cyBmYSBmYS1wbHVzXCI+PC9pPlxuICAgICAgICAgTm90ZWJvb2tcbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlYm9va05ldzsiLCIvKipcbiAqIFRoZSByb290IFJlYWN0IGNvbXBvbmVudCBmcm9tIHdoaWNoIGFsbCBvdGhlciBjb21wb25lbnRzIG9uIHRoZSBwYWdlIGFyZVxuICogZGVzY2VuZGVkLiBJdCBpcyB0aGlzIGNvbXBvbmVudCB3aGljaCBpcyBkaXJlY3RseSBtb3VudGVkIG9uIHRoZSBET00uXG4gKi9cblxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RSZWR1eCA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5cbmNvbnN0IFByb3ZpZGVyID0gUmVhY3RSZWR1eC5Qcm92aWRlcjtcbmNvbnN0IEhvbWUgPSByZXF1aXJlKCcuL0hvbWUnKTtcblxuLy8gRW5hYmxlIGRldmVsb3BtZW50IHRvb2xzIHdoZW4gaW4gZGV2ZWxvcG1lbnQgbW9kZVxubGV0IERldlRvb2xzID0gJ3NwYW4nO1xuaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgRGV2VG9vbHMgPSByZXF1aXJlKCcuL0RldlRvb2xzJyk7XG59XG5cbi8vIERlZmluZSB0aGUgUm9vdCBjb21wb25lbnRcbmNvbnN0IFJvb3QgPSBwcm9wcyA9PiAoXG4gIC8qIFRoZSBQcm92aWRlciBnaXZlcyBkZXNjZW5kYW50cyB0aGUgYWJpbGl0eSB0byBjb25uZWN0IHRvIHRoZSBSZWR1eCBzdG9yZSAqL1xuICA8UHJvdmlkZXIgc3RvcmU9e3Byb3BzLnN0b3JlfT5cbiAgICA8ZGl2PlxuICAgICAgey8qIFRoZSBIb21lIGNvbXBvbmVudCBjb250YWlucyB0aGUgZ3V0cyBvZiB0aGUgcGFnZSAqL31cbiAgICAgIDxIb21lIC8+XG4gICAgICB7LyogRGV2VG9vbHMgaXMganVzdCBhbiBlbXB0eSBlbGVtZW50IHdoZW4gbm90IGluIGRldmVsb3BtZW50IG1vZGUgKi99XG4gICAgICA8RGV2VG9vbHMgLz5cbiAgICA8L2Rpdj5cbiAgPC9Qcm92aWRlcj5cbik7XG5cbm1vZHVsZS5leHBvcnRzID0gUm9vdDtcbiIsIi8qKlxuICogVGhpcyBoZWxwZXIgZmlsZSBwcm92aWRlcyBhIHNldCBvZiBmdW5jdGlvbnMgZm9yIHBlcmZvcm1pbmcgSFRUUCByZXF1ZXN0cy5cbiAqIEl0IHdpbGwgd29yayBvbiBib3RoIHRoZSBiYWNrZW5kIGFuZCB0aGUgZnJvbnRlbmQuXG4gKi9cblxuY29uc3QgYWpheCA9IHt9O1xuXG5pZihwcm9jZXNzLmVudi5JTl9CUk9XU0VSKSB7XG4gIGFqYXgucmVxdWVzdCA9IG9wdHMgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3QgZmFpbGVkJykpO1xuICAgIH0pO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgaWYoeGhyLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFJlY2VpdmVkIHN0YXR1cyAke3hoci5zdGF0dXN9YCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShvcHRzLmpzb24gPyBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpIDogeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgeGhyLm9wZW4ob3B0cy5tZXRob2QsIG9wdHMudXJsKTtcbiAgICBpZihvcHRzLmpzb24pIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQob3B0cy5kYXRhICE9PSB1bmRlZmluZWQgPyBKU09OLnN0cmluZ2lmeShvcHRzLmRhdGEpIDogb3B0cy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeGhyLnNlbmQob3B0cy5kYXRhKTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3JlcXVlc3QnKTtcblxuICBhamF4LnJlcXVlc3QgPSBvcHRzID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0KHtcbiAgICAgIHVybDogb3B0cy51cmwsXG4gICAgICBtZXRob2Q6IG9wdHMubWV0aG9kLFxuICAgICAgYm9keTogb3B0cy5kYXRhLFxuICAgICAganNvbjogb3B0cy5qc29uXG4gICAgfSwgKGVycm9yLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgICAgaWYoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgUmVjZWl2ZWQgc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzQ29kZX1gKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKGJvZHkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhamF4O1xuIiwiLyoqXG4gKiBUaGlzIGhlbHBlciBmaWxlIHByb3ZpZGVzIGEgc2V0IG9mIGZ1bmN0aW9ucyBmb3IgY29tbXVuaWNhdGluZyB3aXRoIHRoZVxuICogYmFja2VuZCBBUEkuIEl0IHdpbGwgd29yayBvbiBib3RoIHRoZSBiYWNrZW5kIGFuZCB0aGUgZnJvbnRlbmQuXG4gKi9cblxuY29uc3QgYWpheCA9IHJlcXVpcmUoJy4vYWpheCcpO1xuXG5jb25zdCBhcGkgPSB7fTtcblxuaWYocHJvY2Vzcy5lbnYuSU5fQlJPV1NFUikge1xuICBhcGkuYmFzZVVybCA9ICcvYXBpJztcbn0gZWxzZSB7XG4gIGFwaS5iYXNlVXJsID0gJ2h0dHA6Ly9hcGk6MzAwMCc7XG59XG5cbmFwaS5nZXQgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBhamF4LnJlcXVlc3Qoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiB0aGlzLmJhc2VVcmwgKyBwYXRoLFxuICAgIGpzb246IHRydWVcbiAgfSk7XG59O1xuXG5hcGkucG9zdCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEpIHtcbiAgcmV0dXJuIGFqYXgucmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiB0aGlzLmJhc2VVcmwgKyBwYXRoLFxuICAgIGpzb246IHRydWUsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbmFwaS5wdXQgPSBmdW5jdGlvbihwYXRoLCBkYXRhKSB7XG4gIHJldHVybiBhamF4LnJlcXVlc3Qoe1xuICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgdXJsOiB0aGlzLmJhc2VVcmwgKyBwYXRoLFxuICAgIGpzb246IHRydWUsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbmFwaS5kZWxldGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBhamF4LnJlcXVlc3Qoe1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgdXJsOiB0aGlzLmJhc2VVcmwgKyBwYXRoLFxuICAgIGpzb246IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwaTtcbiIsIi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gZ2l2ZW4gYSBkaXNwYXRjaCBmdW5jdGlvbiwgcmV0dXJucyBhblxuICogb2JqZWN0IGNvbnRhaW5pbmcgYSBidW5jaCBvZiBhY3Rpb24gZGlzcGF0Y2hlcnMuXG4gKi9cbmNvbnN0IGNyZWF0ZUFjdGlvbkRpc3BhdGNoZXJzID0gKC4uLmFjdGlvbkNyZWF0b3JHcm91cHMpID0+IGRpc3BhdGNoID0+XG4gIC8vIEl0ZXJhdGUgb3ZlciBhY3Rpb25DcmVhdG9yc0FycmF5LCB3aGljaCBpcyBhbiBhcnJheSBvZiBhcnJheXMgb2YgYWN0aW9uXG4gIC8vIGNyZWF0b3JzXG4gIGFjdGlvbkNyZWF0b3JHcm91cHMucmVkdWNlKChhY3Rpb25EaXNwYXRjaGVycywgYWN0aW9uQ3JlYXRvcnMpID0+IHtcbiAgICAvLyBBZGQgYW4gYWN0aW9uIGRpc3BhdGNoZXIgZm9yIGVhY2ggYWN0aW9uIGNyZWF0b3IgaW4gYWN0aW9uQ3JlYXRvcnNcbiAgICBPYmplY3Qua2V5cyhhY3Rpb25DcmVhdG9ycylcbiAgICAgIC5maWx0ZXIoKG5hbWUpID0+ICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnNbbmFtZV0gPT09ICdmdW5jdGlvbicpKVxuICAgICAgLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgYWN0aW9uRGlzcGF0Y2hlcnNbbmFtZV0gPSBmdW5jdGlvbiguLi5hY3Rpb25DcmVhdG9yQXJncykge1xuICAgICAgICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yc1tuYW1lXS5hcHBseSh0aGlzLCBhY3Rpb25DcmVhdG9yQXJncykpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGFjdGlvbkRpc3BhdGNoZXJzO1xuICB9LCB7fSk7XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQWN0aW9uRGlzcGF0Y2hlcnM7XG4iLCIvKipcbiAqIFRoaXMgaGVscGVyIGZpbGUgcHJvdmlkZXMgYSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgdGhlIFJlZHV4IHN0b3JlLiBJblxuICogZGV2ZWxvcG1lbnQgbW9kZSBpdCB3aWxsIGFsc28gY29ubmVjdCB1cCB0aGUgUmVkdXggZGV2ZWxvcG1lbnQgdG9vbHMgZm9yXG4gKiBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gKi9cblxuY29uc3QgUmVkdXggPSByZXF1aXJlKCdyZWR1eCcpO1xuY29uc3QgcmVkdXhUaHVuayA9IHJlcXVpcmUoJ3JlZHV4LXRodW5rJykuZGVmYXVsdDtcbmNvbnN0IGNvbWJpbmVkUmVkdWNlcnMgPSByZXF1aXJlKCcuLi9yZWR1Y2VycycpO1xuXG5sZXQgZmluYWxDcmVhdGVTdG9yZTtcblxuaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBmaW5hbENyZWF0ZVN0b3JlID0gUmVkdXguY29tcG9zZShcbiAgICAvLyBFbmFibGVzIG1pZGRsZXdhcmVcbiAgICBSZWR1eC5hcHBseU1pZGRsZXdhcmUocmVkdXhUaHVuaylcbiAgKShSZWR1eC5jcmVhdGVTdG9yZSk7XG59IGVsc2Uge1xuICBjb25zdCBEZXZUb29scyA9IHJlcXVpcmUoJy4uL2NvbXBvbmVudHMvRGV2VG9vbHMnKTtcblxuICBmaW5hbENyZWF0ZVN0b3JlID0gUmVkdXguY29tcG9zZShcbiAgICAvLyBFbmFibGVzIG1pZGRsZXdhcmVcbiAgICBSZWR1eC5hcHBseU1pZGRsZXdhcmUocmVkdXhUaHVuayksXG4gICAgLy8gRW5hYmxlcyBEZXZUb29sc1xuICAgIERldlRvb2xzLmluc3RydW1lbnQoKVxuICApKFJlZHV4LmNyZWF0ZVN0b3JlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbml0aWFsU3RhdGUgPT4gZmluYWxDcmVhdGVTdG9yZShjb21iaW5lZFJlZHVjZXJzLCBpbml0aWFsU3RhdGUpO1xuIiwiLyoqXG4gKiBTcGVjaWZ5IGFsbCBvZiB5b3VyIHJlZHVjZXJzIGluIHRoaXMgZmlsZSwgc28gdGhleSBjYW4gYmUgY29tYmluZWQgaW50b1xuICogb25lIGJpZyByZWR1Y2VyLlxuICovXG5cbmNvbnN0IFJlZHV4ID0gcmVxdWlyZSgncmVkdXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWR1eC5jb21iaW5lUmVkdWNlcnMoe1xuICBub3RlYm9va3M6IHJlcXVpcmUoJy4vbm90ZWJvb2tzJyksXG4gIC8qICoqKiBUT0RPOiBQdXQgYW55IG90aGVyIHJlZHVjZXJzIGluIGhlcmUgKioqICovXG4gIC8vIGVnLiBgbm90ZXM6IHJlcXVpcmUoJy4vbm90ZXMnKWAgaWYgeW91IGhhdmUgYSByZWR1Y2VyIGluIHJlZHVjZXJzL25vdGVzLmpzXG59KTtcbiIsImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGFwaSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYXBpJyk7XG5cbi8vIEFjdGlvbiB0eXBlIGNvbnN0YW50c1xuLyogKioqIFRPRE86IFB1dCBhY3Rpb24gY29uc3RhbnRzIGhlcmUgKioqICovXG5jb25zdCBVUERBVEUgPSAnbXlhcHAvVVBEQVRFJztcbmNvbnN0IENSRUFURSA9ICdteWFwcC9DUkVBVEUnO1xuY29uc3QgREVMRVRFID0gJ215YXBwL0RFTEVURSc7XG5jb25zdCBTSE9XID0gJ215YXBwL1NIT1cnO1xuY29uc3QgREVMRVRFTiA9ICdteWFwcC9ERUxFVEVOJztcbmNvbnN0IENSRUFURU4gPSAnbXlhcHAvQ1JFQVRFbic7XG5jb25zdCBTRUFSQ0hFRCA9ICdteWFwcC9TRUFSQ0hFRCc7XG5jb25zdCBSRVNFVE5PVEUgPSAnbXlhcHAvUkVTRVROT1RFJztcbmNvbnN0IFJFU0VUTk9URUJPT0sgPSdteWFwcC9SRVNFVE5PVEVCT09LJztcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBub3RlYm9va3M6IFtcbiAgICB7IGlkOiAxMDAsIHRpdGxlOiAnRnJvbSBSZWR1eCBTdG9yZTogQSBoYXJkLWNvZGVkIG5vdGVib29rJyB9LFxuICAgIHsgaWQ6IDEwMSwgdGl0bGU6ICdGcm9tIFJlZHV4IFN0b3JlOiBBbm90aGVyIGhhcmQtY29kZWQgbm90ZWJvb2snIH0sXG4gIF0sXG4gIGFjdGl2ZU5vdGVib29rSWQ6IC0xLFxuICBub3RlczpbXSxcbiAgYWN0aXZlTm90ZUlkOiAtMSwgLy9BZGRlZCBuZXcgTGluZSBmb3Igbm90ZVxuICBzZWFyY2hlZE5vdGVzOltdLFxufTtcblxuLy8gRnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlIGN1cnJlbnQgZGF0YSBzdGF0ZSBhbmQgYW4gYWN0aW9uLFxuLy8gYW5kIHJldHVybnMgYSBuZXcgc3RhdGVcbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBzdGF0ZSA9IHN0YXRlIHx8IGluaXRpYWxTdGF0ZTtcbiAgYWN0aW9uID0gYWN0aW9uIHx8IHt9O1xuXG4gIHN3aXRjaChhY3Rpb24udHlwZSkge1xuICAgIC8qICoqKiBUT0RPOiBQdXQgcGVyLWFjdGlvbiBjb2RlIGhlcmUgKioqICovXG4gICAgY2FzZSBVUERBVEU6IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBhY3RpdmVOb3RlYm9va0lkOmFjdGlvbi5ub3RlYm9va0lkLFxuICAgICAgbm90ZXM6IGFjdGlvbi5ub3RlcywgYWN0aXZlTm90ZUlkOiAtMX0pO1xuICAgIH1cblxuICAgIGNhc2UgUkVTRVROT1RFOiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgYWN0aXZlTm90ZUlkOiAtMX0pO1xuICAgIH1cblxuICAgIGNhc2UgUkVTRVROT1RFQk9PSzp7XG4gICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGFjdGl2ZU5vdGVib29rSWQ6LTF9KTtcbiAgICB9XG5cbiAgICBjYXNlIENSRUFURToge1xuICAgICAgY29uc3QgdW5zb3J0ZWROb3RlYm9va3MgPSBfLmNvbmNhdChzdGF0ZS5ub3RlYm9va3MsYWN0aW9uLm5vdGVib29rKTtcblxuICAgICAgY29uc3Qgbm90ZWJvb2tzID0gXy5vcmRlckJ5KHVuc29ydGVkTm90ZWJvb2tzLCAnY3JlYXRlZEF0JywgJ2Rlc2MnKTtcblxuICAgICAgcmV0dXJuIF8uYXNzaWduKHt9LCBzdGF0ZSwge25vdGVib29rc30pO1xuICAgIH1cbiAgICBjYXNlIERFTEVURToge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSBfLmNsb25lKHN0YXRlKTtcbiAgICAgIG5ld1N0YXRlLm5vdGVib29rcyA9IF8ucmVqZWN0KHN0YXRlLm5vdGVib29rcywge2lkOmFjdGlvbi5ub3RlYm9va0lkfSk7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIGNhc2UgU0hPVzp7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHthY3RpdmVOb3RlSWQ6YWN0aW9uLm5vdGVJZH0pO1xuICAgIH1cbiAgICBjYXNlIERFTEVURU46e1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IF8uY2xvbmUoc3RhdGUpXG4gICAgICAgIG5ld1N0YXRlLm5vdGVzID0gXy5yZWplY3Qoc3RhdGUubm90ZXMse2lkOmFjdGlvbi5ub3RlSWR9KTtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cbiAgICBjYXNlIENSRUFURU46IHtcbiAgICAgIGNvbnN0IHVuc29ydGVkTm90ZXMgPSBfLmNvbmNhdChzdGF0ZS5ub3RlcywgYWN0aW9uLm5vdGUpO1xuICAgICAgY29uc3Qgbm90ZXMgPSBfLm9yZGVyQnkodW5zb3J0ZWROb3RlcywnY3JlYXRlZEF0JywnZGVzYycpO1xuICAgICAgcmV0dXJuIF8uYXNzaWduKHt9LHN0YXRlLHtub3Rlc30pO1xuICAgIH1cbiAgICBjYXNlIFNFQVJDSEVEOiB7XG4gICAgICBjb25zdCBzZWFyY2hlZE5vdGVzID0gYWN0aW9uLm5vdGVzO1xuICAgICAgY29uc3Qgbm90ZWJvb2tzID0gYWN0aW9uLnRlbXBOb3RlYm9va3M7XG4gICAgICByZXR1cm4gXy5hc3NpZ24oe30sc3RhdGUse3NlYXJjaGVkTm90ZXN9KTtcbiAgICB9XG4gICAgZGVmYXVsdDogcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbi8vIEFjdGlvbiBjcmVhdG9yc1xuLyogKioqIFRPRE86IFB1dCBhY3Rpb24gY3JlYXRvcnMgaGVyZSAqKiogKi9cbnJlZHVjZXIubG9hZE5vdGVzID0gKG5vdGVib29rSWQpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5nZXQoJy9ub3RlYm9va3MvJytub3RlYm9va0lkKycvbm90ZXMnKS50aGVuKChub3RlcykgPT4ge1xuICAgICAgZGlzcGF0Y2goe3R5cGU6IFVQREFURSwgbm90ZWJvb2tJZCwgbm90ZXN9KVxuICAgIH0pXG4gIH1cbn1cblxucmVkdWNlci5sb2FkTm90ZUNvbnRlbnQgPSAobm90ZUlkKSA9PiB7XG4gIHJldHVybihkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5nZXQoJy9ub3Rlcy8nK25vdGVJZCkudGhlbigobm90ZSkgPT4ge1xuICAgICAgZGlzcGF0Y2goe3R5cGU6U0hPVywgbm90ZUlkfSlcbiAgICB9KVxuICB9XG59XG5cbnJlZHVjZXIucmVzZXROb3RlID0gKCkgPT4ge1xuICByZXR1cm4oZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7dHlwZTpSRVNFVE5PVEV9KVxuICB9XG59XG5cbnJlZHVjZXIucmVzZXROb3RlYm9vayA9ICgpID0+IHtcbiAgcmV0dXJuKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2NhbGxpbmcgcmVzZXQnKTtcbiAgICBkaXNwYXRjaCh7dHlwZTpSRVNFVE5PVEVCT09LfSlcbiAgfVxufVxuXG5yZWR1Y2VyLmRlbGV0ZU5vdGVib29rID0gKG5vdGVib29rSWQpID0+IHtcbiAgcmV0dXJuKGRpc3BhdGNoKSA9PiB7XG4gICAgYXBpLmRlbGV0ZSgnL25vdGVib29rcy8nK25vdGVib29rSWQpLnRoZW4oKG5vdGVib29rKT0+IHtcbiAgICAgIGRpc3BhdGNoKHt0eXBlOiBERUxFVEUsIG5vdGVib29rSWR9KVxuICAgIH0pXG4gIH1cbn1cblxucmVkdWNlci5jcmVhdGVOb3RlYm9vayA9IChuZXdOb3RlYm9vaywgY2FsbGJhY2spID0+IHtcbiAgcmV0dXJuKGRpc3BhdGNoKSA9PiB7XG4gICAgYXBpLnBvc3QoJy9ub3RlYm9va3MnLCBuZXdOb3RlYm9vaykudGhlbigobm90ZWJvb2spID0+IHtcbiAgICAgIGRpc3BhdGNoKHt0eXBlOiBDUkVBVEUsIG5vdGVib29rfSk7XG4gICAgfSk7XG4gIH1cbn1cblxucmVkdWNlci5jcmVhdGVOb3RlID0gKG5ld05vdGUsIGNhbGxiYWNrKSA9PiB7XG4gIHJldHVybihkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5wb3N0KCcvbm90ZXMnLG5ld05vdGUpLnRoZW4oKG5vdGUpID0+IHtcbiAgICAgIGRpc3BhdGNoKHt0eXBlOkNSRUFURU4sIG5vdGV9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5yZWR1Y2VyLmRlbGV0ZU5vdGUgID0obm90ZUlkKSA9PiB7XG4gIHJldHVybihkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5kZWxldGUoJy9ub3Rlcy8nK25vdGVJZCkudGhlbigobm90ZSkgPT4ge1xuICAgICAgZGlzcGF0Y2goe3R5cGU6REVMRVRFTiwgbm90ZUlkfSlcbiAgICB9KVxuICB9XG59XG5cblxucmVkdWNlci5vblNlYXJjaE5vdGVzID0gKHBocmFzZSkgPT4ge1xuICByZXR1cm4oZGlzcGF0Y2gpID0+IHtcbiAgICBhcGkuZ2V0KCcvc2VhcmNoL25vdGVzLycrcGhyYXNlKS50aGVuKChub3RlcykgPT57XG5cbiAgICAgICAgY29uc3QgdGVtcE5vdGVib29rcyA9IFtdXG5cbiAgICAgICAgICAgICBub3Rlcy5tYXAoKG5vdGUpID0+IHtcbiAgICAgICAgICAgICAgICBhcGkuZ2V0KCcvbm90ZWJvb2tzLycrbm90ZS5ub3RlYm9va0lkKS50aGVuKChub3RlYm9vaykgPT4ge1xuICAgICAgICAgICAgICAgICAgdGVtcE5vdGVib29rcy5wdXNoKG5vdGVib29rKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlbXBOb3RlYm9va3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZGlzcGF0Y2goe3R5cGU6U0VBUkNIRUQsIHRlbXBOb3RlYm9va3MsIG5vdGVzIH0pXG5cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cblxuXG4vLyBFeHBvcnQgdGhlIGFjdGlvbiBjcmVhdG9ycyBhbmQgcmVkdWNlclxubW9kdWxlLmV4cG9ydHMgPSByZWR1Y2VyO1xuIl19"}